var ACMediaVersion="1.1.7.3";Object.extend=function(a,c){for(var b in c){a[b]=c[b]}return a};Object.extend(String.prototype,{blank:function(){return/^\s*$/.test(this)}});Object.extend(Function.prototype,{bindAC:function(){if(arguments.length<2&&typeof(arguments[0])==undefined){return this}var a=this,c=NodeListToArr(arguments),b=c.shift();return function(){return a.apply(b,c.concat(NodeListToArr(arguments)))}},bindAsEventListenerAC:function(){var a=this,c=NodeListToArr(arguments),b=c.shift();return function(d){return a.apply(b,[d||window.event].concat(c))}}});Object.extend(Object,{isString:function(a){return typeof a=="string"},clone:function(a){return Object.extend({},a)},isHash:function(a){return a instanceof Hash},isJSON:function(){var a=this;if(a.blank()){return false}a=this.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,"");return(/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/).test(a)},evalJSON:function(sanitize){try{if(!sanitize||json.isJSON()){return eval("("+json+")")}}catch(e){}throw new SyntaxError("Badly formed JSON string: "+this.inspect())},keys:function(a){var b=[];for(var c in a){b.push(c)}return b},isArray:function(a){return a!=null&&typeof a=="object"&&"splice" in a&&"join" in a}});var ACUtils={getById:function(a){if(Object.isString(a)){return document.getElementById(a)}else{return a}},getByClass:function(d,a,g){var f=new RegExp("(^|\\s)"+d+"(\\s|$)");var a=a||"*";var g=g||document;var e=(a=="*"&&g.all)?g.all:g.getElementsByTagName(a);var b=[];for(var c=0;c<e.length;c++){if(f.test(e[c].className)){b.push(e[c])}}return b},hasClassName:function(b,a){if(b&&b.className){return b.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))}},addClassName:function(b,a){if(!this.hasClassName(b,a)){b.className+=" "+a}},removeClassName:function(c,a){if(this.hasClassName(c,a)){var b=new RegExp("(\\s|^)"+a+"(\\s|$)");c.className=c.className.replace(b," ")}},hideElement:function(a){if(Object.isString(a)){a=document.getElementById(a)}a.style.display="none";return a},showElement:function(a){if(Object.isString(a)){a=document.getElementById(a)}a.style.display="";return a},showVisibility:function(a){if(Object.isString(a)){a=document.getElementById(a)}a.style.visibility="visible";return a},hideVisibility:function(a){if(Object.isString(a)){a=document.getElementById(a)}a.style.visibility="hidden";return a},addEventHandler:function(c,a,b){if(c.addEventListener){c.addEventListener(a,b,false)}else{if(c.attachEvent){var d=c.attachEvent("on"+a,b)}else{c["on"+a]=b}}return c},removeEventHandler:function(c,a,b){if(c.removeEventListener){c.removeEventListener(a,b,false)}else{c.detachEvent("on"+a,b)}return c},getStyle:function(b,c){var b=(b);c=c=="float"?"cssFloat":this.camelize(c);var d=b.style[c];if(!d){if(document.defaultView&&document.defaultView.getComputedStyle){var a=document.defaultView.getComputedStyle(b,null)}d=a?a[c]:null}if(c=="opacity"){return d?parseFloat(d):1}return d=="auto"?null:d},camelize:function(e){var d=e.split("-"),a=d.length;if(a==1){return d[0]}var c=e.charAt(0)=="-"?d[0].charAt(0).toUpperCase()+d[0].substring(1):d[0];for(var b=1;b<a;b++){c+=d[b].charAt(0).toUpperCase()+d[b].substring(1)}return c},makePositioned:function(a){var b=ACUtils.getById(a);var c=ACUtils.getStyle(a,"position");if(c=="static"||!c){a._madePositioned=true;a.style.position="relative";if(window.opera){a.style.top=0;a.style.left=0}}return a},isWebKit:function(){var a=navigator.userAgent.toLowerCase();return !!a.match(/AppleWebKit/i)},getCoords1:function(a){if(a.pageX==null){var b=(document.documentElement&&document.documentElement.scrollLeft!=null)?document.documentElement:document.body;docX=a.clientX+b.scrollLeft;docY=a.clientY+b.scrollTop}else{docX=a.pageX;docY=a.pageY}return{x:docX,y:docY}},getCoords:function(a){return{x:a.pageX||(a.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft)),y:a.pageY||(a.clientY+(document.documentElement.scrollTop||document.body.scrollTop))}},whichClick:function(a){if(a.which==null){button=(a.button<2)?"LEFT":((a.button==4)?"MIDDLE":"RIGHT")}else{button=(a.which<2)?"LEFT":((a.which==2)?"MIDDLE":"RIGHT")}return button},isLeftClick:function(a){if(this.whichClick(a)=="LEFT"){return true}else{return false}},getTarget:function(a){return(typeof a.target!="undefined")?a.target:a.srcElement},cumulativeOffset:function(b){var a=0,c=0;do{a+=b.offsetTop||0;c+=b.offsetLeft||0;b=b.offsetParent}while(b);return this._returnOffset(c,a)},_returnOffset:function(b,c){var a=[b,c];a.left=b;a.top=c;return a},stopEvent:function(a){if(!a){var a=window.event}if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}if(a.preventDefault){a.preventDefault()}a.stopped=true},removeChildNodes:function(b){try{if(b.hasChildNodes()&&b.childNodes){while(b.firstChild){b.removeChild(b.firstChild)}}}catch(a){}},emptyFunction:function(){},trim:function(b){var a;a=b.replace(/^\s*/,"").replace(/\s*$/,"");a=a.replace(/\s{2,}/," ");return a}};ACUtils.Detector={getAgent:function(){return navigator.userAgent.toLowerCase()},isMac:function(b){var a=b||this.getAgent();return !!a.match(/mac/i)},isSnowLeopard:function(b){var a=b||this.getAgent();return !!a.match(/mac os x 10_6/i)},isWin:function(b){var a=b||this.getAgent();return !!a.match(/win/i)},isWin2k:function(b){var a=b||this.getAgent();return this.isWin(a)&&(a.match(/nt\s*5/i))},isWinVista:function(b){var a=b||this.getAgent();return this.isWin(a)&&(a.match(/nt\s*6\.0([0-9]{0,2})?/i))},isWebKit:function(b){if(this._isWebKit===undefined){var a=b||this.getAgent();this._isWebKit=!!a.match(/AppleWebKit/i);this.isWebKit=function(){return this._isWebKit}}return this._isWebKit},isSafari2:function(c){if(this._isSafari2===undefined){if(!this.isWebKit()){this._isSafari2=false}else{var b=navigator.userAgent.toLowerCase();var a=parseInt(parseFloat(b.substring(b.lastIndexOf("safari/index.html")+7)),10);this._isSafari2=(a>=419)}this.isSafari2=function(){return this._isSafari2}}return this._isSafari2},isChrome:function(b){if(this._isChrome===undefined){var a=b||this.getAgent();this._isChrome=!!a.match(/Chrome/i);this.isChrome=function(){return this._isChrome}}return this._isChrome},isOpera:function(b){var a=b||this.getAgent();return !!a.match(/opera/i)},isIE:function(b){var a=b||this.getAgent();return !!a.match(/msie/i)},isIEStrict:function(b){var a=b||this.getAgent();return a.match(/msie/i)&&!this.isOpera(a)},isIE8:function(c){var b=c||this.getAgent();var a=b.match(/msie\D*([\.\d]*)/i);if(a&&a[1]){version=a[1]}return +version>=8},isFirefox:function(b){var a=b||this.getAgent();return !!a.match(/firefox/i)},iPhoneOSVersion:function(d){var c=d||this.getAgent(),a=this.isMobile(c),e,f,b;if(a){var e=c.match(/.*CPU ([\w|\s]+) like/i);if(e&&e[1]){f=e[1].split(" ");b=f[2].split("_");return b}else{return[1]}}else{return null}},isiPad:function(b){var a=b||this.getAgent();return !!(this.isWebKit(a)&&a.match(/ipad/i))},shouldPlayH264VideoNatively:function(c){var b=c||this.getAgent();if(this.isiPad()){return true}var a=document.createElement("video");return((!this.isQTInstalled())&&(!!a.canPlayType)&&(!!a.canPlayType("video/mp4")))},isMobile:function(b){var a=b||this.getAgent();return this.isWebKit(a)&&(a.match(/Mobile/i)&&!this.isiPad(a))},_isQTInstalled:undefined,isQTInstalled:function(){if(this._isQTInstalled===undefined){var a=false;if(navigator.plugins&&navigator.plugins.length){for(var b=0;b<navigator.plugins.length;b++){var c=navigator.plugins[b];if(c.name.indexOf("QuickTime")>-1){a=true}}}else{if(typeof(execScript)!="undefined"){qtObj=false;execScript('on error resume next: qtObj = IsObject(CreateObject("QuickTimeCheckObject.QuickTimeCheck.1"))',"VBScript");a=qtObj}}this._isQTInstalled=a}return this._isQTInstalled},getQTVersion:function(){var a="0";if(navigator.plugins&&navigator.plugins.length){for(var c=0;c<navigator.plugins.length;c++){var d=navigator.plugins[c];var b=d.name.match(/quicktime\D*([\.\d]*)/i);if(b&&b[1]){a=b[1]}}}else{if(typeof(execScript)!="undefined"){ieQTVersion=null;execScript('on error resume next: ieQTVersion = CreateObject("QuickTimeCheckObject.QuickTimeCheck.1").QuickTimeVersion',"VBScript");if(ieQTVersion){a=ieQTVersion.toString(16);a=[a.charAt(0),a.charAt(1),a.charAt(2)].join(".")}}}return a},isQTCompatible:function(c,e){function b(g,j){var f=parseInt(g[0],10);if(isNaN(f)){f=0}var h=parseInt(j[0],10);if(isNaN(h)){h=0}if(f===h){if(g.length>1){return b(g.slice(1),j.slice(1))}else{return true}}else{if(f<h){return true}else{return false}}}var d=c.split(/\./);var a=e?e.split(/\./):this.getQTVersion().split(/\./);return b(d,a)},isValidQTAvailable:function(a){return this.isQTInstalled()&&this.isQTCompatible(a)},isSBVDPAvailable:function(a){return false},isCSSAvailable:function(b){try{var a=document.createElement("div").style;b=b.toLowerCase();a.setProperty("-webkit-"+b,"inherit",null);a.setProperty("-moz-"+b,"inherit",null);a.setProperty("-o-"+b,"inherit",null);a.setProperty(b,"inherit",null);return(a.getPropertyValue("-webkit-"+b)=="inherit"||a.getPropertyValue("-moz-"+b)=="inherit"||a.getPropertyValue("-o-"+b)=="inherit"||a.getPropertyValue(b)=="inherit")}catch(c){return false}}};function concat(d,c){for(var e=0,f;f=c[e];e++){d.push(f)}return d}function NodeListToArr(c){if(!c){return[]}if(c.toArray){return c.toArray()}var b=c.length||0,a=new Array(b);while(b--){a[b]=c[b]}return a}if(navigator.userAgent.indexOf("AppleWebKit/index.html")>-1){NodeListToArr=function(c){if(!c){return[]}if(!(typeof(c)=="function"&&c=="[object NodeList]")&&c.toArray){return c.toArray()}var b=c.length||0,a=new Array(b);while(b--){a[b]=c[b]}return a}}var animateEffects={};animateEffects.opacity=function(e,g,j,f,h){var d=Math.round(f/80);this.opac=opac=g;var b=((typeof e=="object")?e.id:document.getElementById(e).id);if(h!=undefined&&h.beforeStart!=null){h.beforeStart()}if(g>j){for(i=1;i<=80;i++){if(a){clearTimeout(a)}var c=setTimeout("animateEffects.changeOpac("+opac+",'"+b+"')",(i*d));this.opac=opac=g-((g-j)/80)*i}}else{if(g<j){for(i=1;i<=80;i++){if(c){clearTimeout(c)}var a=setTimeout("animateEffects.changeOpac("+opac+",'"+b+"')",(i*d));this.opac=opac=g+((j-g)/80)*i}}}};animateEffects.changeOpac=function(a,d){var b=ACUtils.Detector.getAgent();if(d){var c=(typeof d=="object"?d:document.getElementById(d))}if(c){c.style.opacity=(a);c.style.MozOpacity=(a);c.style.KhtmlOpacity=(a);if(ACUtils.Detector.isIEStrict()&&(!c.currentStyle.hasLayout)){c.style.zoom=1;c.filters.Alpha.Opacity=a*100}}};var ACUtilsAjax={getTransport:function(){var a=false;try{a=new XMLHttpRequest()}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){a=false}}}return a}};var trackingIndex=0;ACUtilsAjax.AjaxTracker={responders:[]};ACUtilsAjax.AjaxRequest=function(b,a){var d=ACUtilsAjax.getTransport();var c=trackingIndex++;ACUtilsAjax.AjaxTracker.responders.push(c);d.onreadystatechange=function(){ACUtilsAjax.AjaxResponse(d,a,c)};d.open(a.method,b,true);d.setRequestHeader("Content-Type",a.contentType);d.send(null)};ACUtilsAjax.AjaxResponse=function(d,b,c){var a=false;if(d.readyState==4){if(d.status>=200&&d.status<300){b.onSuccess?b.onSuccess(d):ACUtils.emptyFunction();a=true}else{if(d.status>=400&&d.status<500){b.onFailure?b.onFailure(d):ACUtils.emptyFunction();a=true}else{if(d.status>=300&&d.status<400){a=true}else{if(d.status>=500&&d.status<600){b.onError?b.onError(d):ACUtils.emptyFunction();a=true}}}}if(a===true){b.onComplete?b.onComplete(d):ACUtils.emptyFunction();for(n=0;n<ACUtilsAjax.AjaxTracker.responders.length;n++){if(d){if(ACUtilsAjax.AjaxTracker.responders[n]==c){d=null;ACUtilsAjax.AjaxTracker.responders.splice(n,1)}}}}}};if(!Control){var Control={}}Control.Slider=function(c,a,b){if(Object.isArray(c)){this.handles=c}else{this.handles=[ACUtils.getById(c)]}this.track=ACUtils.getById(a);this.options=b||{};this.initialize=function(){var d=this;this.axis=this.options.axis||"horizontal";this.increment=this.options.increment||1;this.step=parseInt(this.options.step||"1");this.range=this.options.range||new Array(0,1);this.value=0;this.values=[0];this.restricted=this.options.restricted||false;this.maximum=this.options.maximum||this.range[1];this.minimum=this.options.minimum||this.range[0];this.alignX=parseInt(this.options.alignX||"0");this.alignY=parseInt(this.options.alignY||"0");this.trackLength=this.maximumOffset()-this.minimumOffset();this.handleLength=this.isVertical()?(this.handles[0].offsetHeight!=0?this.handles[0].offsetHeight:this.handles[0].style.height.replace(/px$/,"")):(this.handles[0].offsetWidth!=0?this.handles[0].offsetWidth:this.handles[0].style.width.replace(/px$/,""));this.active=false;this.dragging=false;this.disabled=false;if(this.options.disabled){this.setDisabled()}this.allowedValues=this.options.values?this.options.values.sortBy():false;if(this.allowedValues){this.minimum=this.allowedValues.min();this.maximum=this.allowedValues.max()}if(!this.initialized){this.eventMouseDown=this.startDrag.bindAsEventListenerAC(this);this.eventMouseUp=this.endDrag.bindAsEventListenerAC(this);this.eventMouseMove=this.update.bindAsEventListenerAC(this)}d.setValue(parseFloat(d.options.sliderValue?d.options.sliderValue:d.range[0]));ACUtils.makePositioned(this.handles[0]);ACUtils.addEventHandler(this.handles[0],"mousedown",d.eventMouseDown);if(!this.initialized){ACUtils.makePositioned(this.handles[0]);ACUtils.addEventHandler(this.handles[0],"mousedown",d.eventMouseDown);ACUtils.addEventHandler(this.track,"mousedown",this.eventMouseDown);ACUtils.addEventHandler(document,"mouseup",this.eventMouseUp);ACUtils.addEventHandler(document,"mousemove",this.eventMouseMove)}this.initialized=true};this.dispose=function(){var d=this;this.track.removeEventHandler("mousedown",this.eventMouseDown);document.removeEventHandler("mouseup",this.eventMouseUp);document.removeEventHandler("mousemove",this.eventMouseMove);this.handles[0].removeEventHandler("mousedown",d.eventMouseDown)};this.setDisabled=function(){this.disabled=true};this.setEnabled=function(){this.disabled=false};this.getNearestValue=function(d){if(this.allowedValues){if(d>=this.allowedValues.max()){return(this.allowedValues.max())}if(d<=this.allowedValues.min()){return(this.allowedValues.min())}var f=Math.abs(this.allowedValues[0]-d);var e=this.allowedValues[0];this.allowedValues.each(function(g){var h=Math.abs(g-d);if(h<=f){e=g;f=h}});return e}if(d>this.range[1]){return this.range[1]}if(d<this.range[0]){return this.range[0]}return d};this.setValue=function(f,e,d){if(!this.active){this.activeHandleIdx=e||0;this.activeHandle=this.handles[this.activeHandleIdx];this.updateStyles()}e=e||this.activeHandleIdx||0;if(this.initialized&&this.restricted){if((e>0)&&(f<this.values[e-1])){f=this.values[e-1]}if((e<(this.handles.length-1))&&(f>this.values[e+1])){f=this.values[e+1]}}f=this.getNearestValue(f);this.values[e]=f;this.value=this.values[0];this.handles[e].style[this.isVertical()?"top":"left"]=this.translateToPx(f);if(!this.dragging||!this.event){this.updateFinished()}};this.setValueBy=function(e,d){this.setValue(this.values[d||this.activeHandleIdx||0]+e,d||this.activeHandleIdx||0)};this.translateToPx=function(d){return Math.round(((this.trackLength-this.handleLength)/(this.range[1]-this.range[0]))*(d-this.range[0]))+"px"};this.translateToValue=function(d){return((d/(this.trackLength-this.handleLength)*(this.range[1]-this.range[0]))+this.range[0])};this.getRange=function(e){var d=this.values.sort();e=e||0;return new Array(d[e],d[e+1])};this.minimumOffset=function(){return(this.isVertical()?this.alignY:this.alignX)};this.maximumOffset=function(){return(this.isVertical()?(this.track.offsetHeight!=0?this.track.offsetHeight:this.track.style.height.replace(/px$/,""))-this.alignY:(this.track.offsetWidth!=0?this.track.offsetWidth:this.track.style.width.replace(/px$/,""))-this.alignX)};this.isVertical=function(){return(this.axis=="vertical")};this.drawSpans=function(){var d=this};this.setSpan=function(e,d){if(this.isVertical()){e.style.top=this.translateToPx(d[0]);e.style.height=this.translateToPx(d[1]-d[0]+this.range[0])}else{e.style.left=this.translateToPx(d[0]);e.style.width=this.translateToPx(d[1]-d[0]+this.range[0])}};this.updateStyles=function(){for(var d=0;d<this.handles.length;d++){ACUtils.removeClassName(this.handles[d],"selected")}ACUtils.addClassName(this.activeHandle,"selected")};this.startDrag=function(f){if(ACUtils.isLeftClick(f)){if(!this.disabled){this.active=true;var g=ACUtils.getTarget(f);var h=[ACUtils.getCoords(f).x,ACUtils.getCoords(f).y];var d=g;if(d.parentNode==this.track||d==this.track){var e=ACUtils.cumulativeOffset(this.track);this.event=f;this.setValue(this.translateToValue((this.isVertical()?h[1]-e[1]:h[0]-e[0])-(this.handleLength/2)));var e=ACUtils.cumulativeOffset(this.activeHandle);this.offsetX=(h[0]-e[0]);this.offsetY=(h[1]-e[1]);this.update(f)}}ACUtils.stopEvent(f)}};this.update=function(d){if(this.active){if(!this.dragging){this.dragging=true}this.draw(d);if(ACUtils.isWebKit()){window.scrollBy(0,0)}ACUtils.stopEvent(d)}};this.draw=function(e){var f=[ACUtils.getCoords(e).x,ACUtils.getCoords(e).y];var d=ACUtils.cumulativeOffset(this.track);f[0]-=this.offsetX+d[0]-(this.handleLength/2);f[1]-=this.offsetY+d[1];this.event=e;this.setValue(this.translateToValue(this.isVertical()?f[1]:f[0]));if(this.initialized&&this.options.onSlide){this.options.onSlide(this.values.length>1?this.values:this.value,this)}};this.endDrag=function(d){if(this.active&&this.dragging){this.finishDrag(d,true);ACUtils.stopEvent(d)}else{this.update(d)}this.active=false;this.dragging=false};this.finishDrag=function(d,e){this.active=false;this.dragging=false;this.updateFinished()};this.updateFinished=function(){if(this.initialized&&this.options.onChange){this.options.onChange(this.values.length>1?this.values:this.value,this)}this.event=null}};var existingVideo=false,existingVideoSrc=false,playExistingVideo=false,languageJsonComplete=false,movieJsonLoaded=false,movieJsonComplete=false,ac_media_language=false,isStreaming=false,isLiveStreaming=false,isHTML5=false,videoReceivedMetadata=false,initializedCP=false,replay=false;var MediaLanguage={translationDictionary:{"bg-BG":"bg-BG.json","cs-CZ":"cs-CZ.json","el-GR":"el-GR.json","de-AT":"de-AT.json","de-CH":"de-CH.json","de-DE":"de-DE.json","de-LI":"de-LI.json","da-DK":"da-DK.json",en:"en.json","en-US":"en-US.json","en-AP":"en-AP.json","en-CA":"en-CA.json","en-GB":"en-GB.json","en-HK":"en-HK.json","en-IE":"en-IE.json","en-IN":"en-IN.json","en-KR":"en-KR.json","en-AU":"en-AU.json","en-NZ":"en-NZ.json","en-SG":"en-SG.json","en-ZA":"en-ZA.json",es:"es.json","es-LA":"es-LA.json","es-MX":"es-MX.json","es-ES":"es-ES.json","et-EE":"et-EE.json","fi-FI":"fi-FI.json",fr:"fr.json","fr-BE":"fr-BE.json","fr-CA":"fr-CA.json","fr-CH":"fr-CH.json","fr-FR":"fr-FR.json","hr-HR":"hr-HR.json","hu-HU":"hu-HU.json","it-IT":"it-IT.json",ja:"ja.json","ja-JP":"ja-JP.json","ko-KR":"ko-KR.json","lt-LT":"lt-LT.json","lv-LV":"lv-LV.json","nl-BE":"nl-BE.json","nl-NL":"nl-NL.json","no-NO":"no-NO.json","pl-PL":"pl-PL.json",pt:"pt.json","pt-BR":"pt-BR.json","pt-PT":"pt-PT.json","ro-RO":"ro-RO.json","ru-RU":"ru-RU.json","sk-SK":"sk-SK.json","sv-SE":"sv-SE.json","tr-TR":"tr-TR.json",zh:"zh.json","zh-CN":"zh-CN.json","zh-HK":"zh-HK.json","zh-TW":"zh-TW.json"},getLangFromAttr:function(a){if(!a){return"en-US"}switch(a.toLowerCase()){case"bg-bg":return"bg-BG";case"cs-cz":return"cs-CZ";case"de-at":return"de-AT";case"de-ch":return"de-CH";case"de-de":return"de-DE";case"de-li":return"de-LI";case"da-dk":return"da-DK";case"el-gr":return"el-GR";case"en-us":return"en-US";case"en-ca":return"en-CA";case"en-ap":return"en-AP";case"en-au":return"en-AU";case"en-gb":return"en-GB";case"en-hk":return"en-HK";case"en-ie":return"en-IE";case"en-in":return"en-IN";case"en-nz":return"en-NZ";case"en-sg":return"en-SG";case"en-kr":return"en-KR";case"en-za":return"en-ZA";case"et-ee":return"et-EE";case"es-es":return"es-ES";case"es-419":case"es-la":return"es-LA";case"es-mx":return"es-MX";case"fi-fi":return"fi-FI";case"fr-be":return"fr-BE";case"fr-ca":return"fr-CA";case"fr-ch":return"fr-CH";case"fr-fr":return"fr-FR";case"hr-hr":return"hr-HR";case"hu-hu":return"hu-HU";case"it-it":return"it-IT";case"ja-jp":return"ja-JP";case"ko-kr":return"ko-KR";case"lt-lt":return"lt-LT";case"lv-lv":return"lv-LV";case"nl-be":return"nl-BE";case"nl-nl":return"nl-NL";case"no-no":return"no-NO";case"pl-pl":return"pl-PL";case"pt":case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"ro-ro":return"ro-RO";case"ru-ru":return"ru-RU";case"sv-se":return"sv-SE";case"sk-sk":return"sk-SK";case"tr-tr":return"tr-TR";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW";default:return a}},getTranslations:function(c){var b=document.getElementsByTagName("html").item(0),a=b.getAttribute("lang"),e=this.getLangFromAttr(a),d=this.langDictionary(e);if(ac_media_language===false){new ACUtilsAjax.AjaxRequest("/global/ac_media_player/scripts/ac_media_languages/"+d,{method:"get",requestHeaders:{Accept:"application/json"},onSuccess:function(f){ac_media_language=new Function("return "+f.responseText)()}.bindAC(this),onComplete:function(){languageJsonComplete=true;if(c&&typeof c.translationDidLoad==="function"){c.translationDidLoad()}}.bindAC(this),evalJS:false})}else{languageJsonComplete=true;if(c&&typeof c.translationDidLoad==="function"){c.translationDidLoad()}}},langDictionary:function(a){var c=a.toLowerCase().split("-")[0],b=this.translationDictionary[a]||false;if(!b){b=this.translationDictionary[c]}if(!b){b=this.translationDictionary.en}return b}};var Media={VERSION:"3.5",MIN_QUICKTIME_VERSION:"7.4",CAPTIONS_NS:"http://www.w3.org/2006/04/ttaf1",container:null,src:null,options:null,create:function(o,h,g){var j=false;if(ACUtils.Detector.shouldPlayH264VideoNatively()&&(!ACUtils.Detector.isiPad())&&(!document.createElement("video").canPlayType("video/quicktime"))&&h.match(/_r(848|640)-9[dwcie]+\.mov(\?.*)*$/)){var c=h;try{var v=function(D){var e=new XMLHttpRequest();D=D.replace(/^https?:\/\/[^\/]+\//i,"../../index.html");a.open("HEAD.html",D,false);a.send(null);return(a.status==200||a.status==304)};var A=h.replace(/_r(848|640)-9[dwcie]+\.mov.*$/,".json").replace(/^https?:\/\/[^\/]+\//i,"../../index.html");var a=new XMLHttpRequest();var t=(document.createElement("video").canPlayType('video/mp4; codecs="avc1.64001E, mp4a.40.2"')=="probably")?"large":"baseline-high";if(t=="large"&&navigator.userAgent.match(/android/i)){t="baseline-high"}a.open("GET.html",A,false);a.send(null);if(a.responseText){var r=new Function("return "+a.responseText)();for(var d=0;d<r.metadata.sizes.length;d++){if(r.metadata.sizes[d].type==t){if((t.match(/^(large|medium)$/))&&!r.metadata.sizes[d].src.match(/\.(m4v|mp4)$/)){var f=r.metadata.sizes[d].src.replace(/\.[^.]+$/,".m4v");if(v(f)){h=f;break}var k=r.metadata.sizes[d].src.replace(/\.[^.]+$/,".mp4");if(v(k)){h=k;break}t=t=="large"?"medium":"baseline-high";d=(-1);continue}h=r.metadata.sizes[d].src;break}}}else{var y=h.replace(/\?[^\?]*$/,"");var C=function(D,E){if(y.match(D)){var e=y.replace(D,E+".m4v");var F=y.replace(D,E+".mp4");if(v(e)){h=e;return true}else{if(v(F)){h=F;return true}}}};C(/_r640-9[dwcie]+\.mov$/,"_640x360");C(/_r848-9[dwcie]+\.mov$/,"_848x480")}}catch(z){}if(h===c){j=true}}var b,B,p,q,w=true,u=true,x=true,m=ACUtils.Detector.shouldPlayH264VideoNatively()&&(!j);movieJsonLoaded=false;movieJsonComplete=false;languageJsonComplete=false;replay=false;Media.container=o;Media.src=h;Media.options=g;switch(true){case Media.Detection.Firefox():ACUtils.addClassName(o,"mozilla");break;case Media.Detection.Opera():ACUtils.addClassName(o,"opera");break;case Media.Detection.IE():Media._createEventSource();break;default:break}if(g.target==="quicktimeplayer"){g.spec="qt"}if(g.spec){switch(g.spec){case"qt":w=false;x=false;break;case"video":case"audio":u=false;x=false;break;case"sbvdp":w=false;u=false;break;default:break}}var l=(Media.Detection.Mobile())?Media.Detection.iPhoneOSVersion():null;if(l&&l[0]<3){w=false;u=true}switch(true){case (m||(w&&Media._isHTML5VideoAvailable()&&!Media.Detection.Firefox()&&!Media.Detection.Mobile()&&!Media.Detection.Chrome()&&!Media.Detection.Opera())&&!(ACUtils.Detector.getAgent().match(/msie 9/i))||(l&&l[0]>=3)):if(g.audio==true&&typeof Media.Spec.Audio!==undefined){return s(Media.Spec.Audio)}return s(Media.Spec.Video);break;case (u&&Media._isQuickTimeAvailable(Media.MIN_QUICKTIME_VERSION)):case (l&&l[0]<3):return s(Media.Spec.QuickTime);break;case (x&&Media._isSBVDPAvailable(Media.MIN_SBVDP_VERSION)):return s(Media.Spec.SBVDP);break;case Media._shouldShowDownloadPrompt():default:MediaLanguage.getTranslations(this);break}function s(J){q=Media.Controller(o);if(g.disableSizeSelector!=undefined){q.disableSizeSelector=g.disableSizeSelector}if(g.disableFullscreenControl!=undefined){q.disableFullscreenControl=g.disableFullscreenControl}if(g.expectingMovieJson!=undefined){q.expectingMovieJson=g.expectingMovieJson}if(g.replay&&g.replay==true){replay=true}b=J.create(o,h,g);B=Media.VideoInterface(b,q);if(m&&(g.autoplay===true||g.autostart===true)){b.forcePlay();if(!ACUtils.Detector.isiPad()){b.play();var F=function(){setTimeout(function(){if(navigator.userAgent.match(/chrome/i)&&!navigator.userAgent.match(/android/i)){b.currentTime=1;b.currentTime=0}b.play()},500);ACUtils.removeEventHandler(b,"canplay",F)};b.addEventListener("canplay",F,false)}}var e=J.eventsToRegister;for(var G in e){var D=e[G].name||e[G],E=e[G].callback;B.registerEvent(G,D,E)}if(J.pollForChanges){B.pollForChanges(J.pollForChanges)}if(J.interfaceMethods){B.override(J.interfaceMethods)}B.setup();q.setVideo(B);q.setVideoSrc(h);if((!Media.Detection.iPad())&&(!Media.Detection.Mobile())){if(b.tagName=="VIDEO"){if(replay===false){if(isNaN(b.duration)){videoReceivedMetadata=false}else{videoReceivedMetadata=true}}}else{videoReceivedMetadata=false}q.configureSettingsControls(h)}q.container=o;q.movieLoadingPanelClass="movie-loading-panel";if(typeof g.width!="undefined"&&typeof g.height!="undefined"){if(h.match(/-hires/)&&ACUtils.getStyle(o,"width")&&ACUtils.getStyle(o,"height")){var I=parseInt(ACUtils.getStyle(o,"width"));var H=parseInt(ACUtils.getStyle(o,"height"));if(I&&H&&I<g.width&&H<g.height){g.width=parseInt(ACUtils.getStyle(o,"width"));g.height=parseInt(ACUtils.getStyle(o,"height"))}}if(typeof q.currentWidth=="undefined"&&typeof q.currentHeight=="undefined"){q.currentWidth=g.width;q.currentHeight=g.height}q.movieLoadingPanelClass="movie-loading-panel_"+g.width+"x"+g.height}ACUtils.addClassName(o,q.movieLoadingPanelClass);if(ACUtils.Detector.isWin()&&Media.Detection.Chrome()){ACUtils.addClassName(o,"winchrome")}return q}return false},translationDidLoad:function(){this.createDownloadPrompt()},createDownloadPrompt:function(d,a,j){ACUtils.removeChildNodes(d);var c=document.createElement("a"),h=document.createElement("span"),f=document.createElement("span"),b=document.createElement("span"),e=Media.options.downloadUrl||ac_media_language.downloadquicktimeurl||"http://www.apple.com/quicktime/download/";ACUtils.addClassName(c,"quicktime-download");if(typeof Media.options.width!=="undefined"&&typeof Media.options.height!=="undefined"){ACUtils.addClassName(c,"size"+Media.options.width+"x"+Media.options.height)}c.setAttribute("href",e);ACUtils.addClassName(h,"quicktime-download-title");ACUtils.addClassName(f,"quicktime-download-text");ACUtils.addClassName(b,"quicktime-download-button");h.innerHTML=Media.options.downloadTitle||ac_media_language.downloadquicktimetitle||"Get QuickTime.";f.innerHTML=Media.options.downloadText||ac_media_language.downloadquicktimetext||"Download QuickTime to view this video.<br />QuickTime is free for Mac + PC.";b.innerHTML=Media.options.downloadButton||ac_media_language.downloadquicktimebutton||"Download";c.appendChild(h);c.appendChild(f);c.appendChild(b);Media.container.appendChild(c);var g=document.getElementsByTagName("body")[0];if("fire" in g){g.fire("QuickTime:noCompatibleQTAvailable",{controller:this,minVersion:Media.MIN_QUICKTIME_VERSION})}return c},_isHTML5VideoAvailable:function(){return Media.Detection.HTML5()},_isQuickTimeAvailable:function(){return Media.Detection.QuickTime(Media.MIN_QUICKTIME_VERSION)},_isSBVDPAvailable:function(){return Media.Detection.SBVDP(Media.MIN_SBVDP_VERSION)},_shouldShowDownloadPrompt:function(){return !Media.Detection.Mobile()},_createEventSource:function(){var c="qt_event_source",b,a;if(document.getElementById(c)){return}b=document.createElement("object");b.id=c;b.setAttribute("clsid","CB927D12-4FF7-4a9e-A169-56E4B8A75598");a=document.getElementsByTagName("head")[0];a.appendChild(b)}};Media.Detection={HTML5:function(){if(!("HTMLMediaElement" in window)){return false}var a=document.createElement("video");return(a.canPlayType&&a.canPlayType("video/mp4")!=="")},QuickTime:function(a){return ACUtils.Detector.isValidQTAvailable(a)},SBVDP:function(a){return ACUtils.Detector.isSBVDPAvailable(a)},Mobile:function(){return(ACUtils.Detector.shouldPlayH264VideoNatively())?true:ACUtils.Detector.isMobile()},iPhoneOSVersion:function(){return ACUtils.Detector.iPhoneOSVersion()},iPad:function(){return ACUtils.Detector.shouldPlayH264VideoNatively()},Safari:function(){return ACUtils.Detector.isSafari2()},IE:function(){return ACUtils.Detector.isIEStrict()},Firefox:function(){return ACUtils.Detector.isFirefox()},Opera:function(){return ACUtils.Detector.isOpera()},Chrome:function(){return ACUtils.Detector.isChrome()},SnowLeopard:function(){return ACUtils.Detector.isSnowLeopard()},SnowLeopard1062:function(){var c=ACUtils.Detector.getAgent(),b=c.match(/mac\sos\sx\D*([\.\w]*)/i),a=false;if(b&&b[1]){a=b[1]}return(ACUtils.Detector.isWebKit()&&(a==="10_6_2"||a==="10_6_1"||a==="10_6"))},CSSTransitions:function(){try{var a=document.createElement("div").style;a.setProperty("-webkit-transition","inherit",null);a.setProperty("-moz-transition","inherit",null);a.setProperty("-o-transition","inherit",null);a.setProperty("transition","inherit",null);return(a.getPropertyValue("-webkit-transition")=="inherit"||a.getPropertyValue("-moz-transition")=="inherit"||a.getPropertyValue("-o-transition")=="inherit"||a.getPropertyValue("transition")=="inherit")}catch(b){return false}},CSSBorderRadius:function(){var e=document.createElement("div").style;var a="Webkit Moz O ms Khtml ".split(" ");var d=["border-radius","Border-radius","borderRadius","BorderRadius"];for(var c=0;c<d.length;c++){for(var b=a.length-1;b>=0;b--){if(e[a[b]+d[c]]!==undefined){return true}}}return false}};Media.Spec={Video:{create:function(b,a,l){var e=(l&&l.audio)?"audio":"video",d,h=(a.indexOf("?")>0)?a.substring(0,a.lastIndexOf("?")):a,k=h.lastIndexOf("."),j=(k>0)?h.substring(k+1,a.length):null,g="video/mp4";if(j){j=j.split("#")[0];g=e+"/"+j}if(!ACUtils.Detector.isiPad()&&existingVideo!=false&&(!ACUtils.Detector.isMobile())){if(existingVideoSrc==h){d=existingVideo;b.appendChild(d);playExistingVideo=true;return d}else{existingVideoSrc=false}}d=document.createElement(e);d.playerType=e;if((d.playerType==="video"&&(d.canPlayType("video/mp4")||d.canPlayType("application/x-mpegURL")))||(d.playerType==="audio"&&(((ACUtils.Detector.isWebKit()||ACUtils.Detector.isMobile()||ACUtils.Detector.shouldPlayH264VideoNatively())&&j==="mov")||d.canPlayType(g)))){if(d.playerType==="video"){g="video/mp4"}var c=l.id||(b.id?b.id+"_video":""),f=(a.indexOf("?")>0)?a.substring(a.lastIndexOf("."),a.lastIndexOf("?")):a.substring(a.lastIndexOf("."),a.length);d.setAttribute("id",c);ACUtils.addClassName(d,d.playerType);if(d.playerType==="video"){switch(f){case".m3u8":d.setAttribute("src",a);isStreaming=true;isLiveStreaming=true;break;default:d.setAttribute("type",g);d.setAttribute("src",a);break}}else{d.setAttribute("src",a)}d.setAttribute("x-webkit-airplay","allow");this._configure(d,h,l);ACUtils.addEventHandler(window,"unload",function(){try{d.stop()}catch(m){}d.style.display="none";d=null});if(ACUtils.Detector.isiPad()||ACUtils.Detector.isMobile()){b.innerHTML=d.outerHTML;delete d;var d=b.getElementsByTagName(e)[0]}else{b.appendChild(d)}if(ACUtils.Detector.isMobile()&&d.webkitExitFullScreen){ACUtils.addEventHandler(d,"ended",function(){d.webkitExitFullScreen();d.style.display="none";setTimeout(function(){d.style.display=""},250)})}existingVideoSrc=h;existingVideo=d;isHTML5=true}else{d=this._createFallback(b,a,l)}return d},eventsToRegister:{load:"load",loadedmetadata:"loadedmetadata",timeupdate:"timeupdate",durationchange:"durationchange",progress:"progress",playing:"playing",play:"play",pause:"pause",ended:"ended",webkitendfullscreen:"webkitendfullscreen"},_captions:null,_fullscreen:false,interfaceMethods:{readystate:function(){return this.readyState},autoplay:function(){return this.autoplay},duration:function(){return this.duration},time:function(){if(!this.webkitClosedCaptionsVisible&&this._captionsEnabled===true){if(typeof Media.Spec.Video._captions!=="undefined"){var k=Media.Spec.Video._captions.getElementsByTagName("p");if(k.length>0){var m="";function g(r){var q=0;if(r){var o=r.split(":");switch(o.length){case 3:for(var p=0;p<3;p++){q=q*60+parseFloat(o[p].replace(",","."))}break;case 4:for(var p=0;p<3;p++){q=q*60+parseFloat(o[p].replace(",","."))}break;default:break}}return q}for(var j=0,a;a=k[j];j++){var e=g(a.getAttribute("begin")),f=g(a.getAttribute("end"));if(this.currentTime<e){break}if(this.currentTime>=e&&this.currentTime<f){m=a}}if(typeof m!="undefined"&&m!=this.currentCaption){this.currentCaption=m;var d=m.childNodes,c=(typeof d!="undefined")?d.length:0,l="";for(var h=0;h<c;h++){var b=d.item(h);if(b.nodeType==3){l+="<span>"+b.nodeValue+"</span>"}}if(l===""){this.trackTextSpan.style.display="none"}else{this.trackTextSpan.style.display="inline-block";this.trackTextSpan.innerHTML=l}}}}}return this.currentTime},setTime:function(a){try{this.currentTime=a}catch(b){this.currentTime=(a<=this.buffered.end(0))?a:this.buffered.end(0)}},volume:function(){return this.volume},setVolume:function(a){this.volume=a},muted:function(){return this.muted},setMuted:function(a){this.muted=a},rate:function(){return this.playbackRate},setRate:function(a){this.playbackRate=a},seekToTime:function(a){this.currentTime=this.currentTime-30},defaultRate:function(){return this.defaultPlaybackRate},src:function(){return this.src},setSrc:function(a){this.src=a;this.load()},status:function(){return this.status},percentLoaded:function(){var a=0;try{a=this.buffered.end(0)/this.duration}catch(b){}return a},pause:function(){this.pause();this.autoplay=false},play:function(){this.play()},paused:function(){return this.paused},ended:function(){return this.ended},timeScale:function(){return 2997},movieType:function(){return"Video"},supportsFullscreen:function(){return !!this.webkitSupportsFullscreen},getContainer:function(){return this.parentNode},setTrackTextSpan:function(a){this.trackTextSpan=a},setCaptionsAvailable:function(b,a){if((typeof Media.Spec.Video._captions!="undefined"&&Media.Spec.Video._captions!=null)||typeof this.webkitClosedCaptionsVisible!="undefined"){b();return}var c;if(a.match(/\w+:\/\//i)){a=a.replace(/\w+:\/\/[^\/]+/i,"")}new ACUtilsAjax.checkURL(a,b);c=document.createElement("text");c.setAttribute("type","application/ttaf+xml");c.setAttribute("src",a);this.appendChild(c);new ACUtilsAjax.AjaxRequest(a,{method:"get",requestHeaders:{Accept:"application/ttaf+xml"},onSuccess:function(d){var e=d.responseXMLValue().documentElement;if(ACUtils.Detector.isIEStrict()){e=e.ownerDocument}var f=e.getAttribute("xml:lang");c.setAttribute("lang",f);Media.Spec.Video._captions=e.getElementsByTagNameNS(Media.CAPTIONS_NS,"body").item(0);Media.Spec.Video._captions.currentIndex=0}.bindAC(this),onFailure:function(){},onException:function(){},onCreate:function(d){d.request.overrideMimeType("application/ttaf+xml")}})},enableCaptions:function(){var a=this._videoClosedCaptionsEnabled;try{if(this._videoClosedCaptionsEnabled===true){this.webkitClosedCaptionsVisible=true}}catch(b){}this._captionsEnabled=true},disableCaptions:function(){try{if(this._videoClosedCaptionsEnabled===true){this.webkitClosedCaptionsVisible=false}}catch(a){}if(""!=this.currentCaption){this.currentCaption=this.trackTextSpan.innerHTML=""}this._captionsEnabled=false},_videoClosedCaptionsEnabled:false,videoClosedCaptionsEnabled:function(){this._videoClosedCaptionsEnabled=(typeof this.webkitClosedCaptionsVisible!="undefined")?true:false;return this._videoClosedCaptionsEnabled},enableFullscreen:function(){try{if(this._captionsEnabled===true){this.webkitClosedCaptionsVisible=true}this.webkitEnterFullScreen()}catch(a){}},disableFullscreen:function(){try{if(this._captionsEnabled===true){this.webkitClosedCaptionsVisible=false}this.webkitExitFullScreen()}catch(a){}}},_configure:function(c,e,b){if(!b){return}var d,a;for(d in b){if(b.hasOwnProperty(d)){if(typeof b[d]==undefined){continue}a=d.toLowerCase();switch(a){case"type":case"src":case"data":case"classid":case"name":case"id":case"postdomevents":case"saveembedtags":case"factory":case"aggressiveCleanup":case"innerId":case"cache":case"aggressivecleanup":case"showlogo":break;case ("class"):ACUtils.addClassName(c,b[d]);break;case ("controller"):if(b[d]||(Media.Detection.iPad()&&c.tagName==="VIDEO")){c.setAttribute("controls","controls")}break;case ("autoplay"):case ("autostart"):if(b[d]){c.setAttribute("autoplay","autoplay")}break;case ("posterframe"):if(b[d]){c.setAttribute("poster",b[d])}break;default:if(typeof b[d]!=="undefined"){c.setAttribute(a,b[d])}break}}}},_createFallback:function(a,c,b){if(Media._isQuickTimeAvailable()){return Media.Spec.QuickTime.create(a,c,b)}if(Media._isSBVDPAvailable()){return Media.Spec.SBVDP.create(a,c,b)}if(Media._shouldShowDownloadPrompt()){MediaLanguage.getTranslations(this)}return false}},QuickTime:{create:function(b,d,c){var f=this._createObject(d,c),a=null,e=c.id||(b.id?b.id+"_video":"");f.setAttribute("id",e);if(!Media.Detection.IE()&&!Media.Detection.Mobile()){if(navigator.userAgent.toLowerCase().match(/firefox\/(\d)/)&&parseInt(navigator.userAgent.toLowerCase().match(/firefox\/(\d)/)[1])>=4){d.indexOf("?")>-1?(d+="&"+new Date().getTime()):(d+="?"+new Date().getTime())}if(c.target==="quicktimeplayer"){a=this._innerObject=this._createInnerObject(d,c)}else{a=this._embed=this._createEmbed(d,c)}f.appendChild(a)}else{f.style.behavior="url(#qt_event_source)";if(c.aggressiveCleanup!==false){ACUtils.addEventHandler(window,"unload",function(){try{f.Stop()}catch(g){}f.style.display="none";f=null})}}if(a){a.setAttribute("airplay","allow")}this._configure(a,f,c);f.setAttribute("classid","clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B");ACUtils.addClassName(f,(f.playerType="quicktime"));b.appendChild(f);return a||f},pollForChanges:["loadedmetadata","load","timeupdate","durationchange","progress","playing","play","pause","ended"],_captions:null,interfaceMethods:{setup:function(){},duration:function(){var b=0;try{b=this.GetDuration()/this.GetTimeScale()}catch(a){}return b||0},time:function(){var b=0;try{b=this.GetTime()/this.GetTimeScale()}catch(a){}return b||0},setTime:function(a){try{this.SetTime(a*this.GetTimeScale())}catch(b){}},volume:function(){return this.GetVolume()/255},setVolume:function(a){this.SetVolume(a*255)},muted:function(){return this.GetMute()},setMuted:function(a){this.SetMute(a)},rate:function(){var a;try{a=this.GetRate()}catch(b){}return a||1},setRate:function(a){this.SetRate(a)},status:function(){this.GetPluginStatus()},percentLoaded:function(){var a=0;try{a=this.GetMaxBytesLoaded()/this.GetMovieSize()}catch(b){}return a},pause:function(){try{this.Stop()}catch(a){}},play:function(){try{this.Play()}catch(a){}},paused:function(){try{return this.GetRate()===0}catch(a){}},ended:function(){return this.ended},src:function(){var b;try{b=this.GetURL()}catch(a){}return b||""},setSrc:function(a){if(ACUtils.Detector.getQTVersion()>="7.6.9"){this.SetURL(a)}else{this.src=a}this.controller=false;if(ACUtils.Detector.isIEStrict()){this.SetControllerVisible(false)}},timeScale:function(){return this.GetTimeScale()},movieType:function(){return"QuickTime"},supportsFullscreen:function(){return false},getContainer:function(){return this._container},setTrackTextSpan:function(a){},setCaptionsAvailable:function(d,b){try{var a=this.GetTrackCount(),c;for(c=1;c<=a;c++){if("Closed Caption"===this.GetTrackType(c)){Media.Spec.QuickTime._captions=c;if(typeof d!="undefined"){d()}}}}catch(f){}},enableCaptions:function(){try{if(Media.Spec.QuickTime._captions==="undefined"){this.setCaptionsAvailable()}this.SetTrackEnabled(Media.Spec.QuickTime._captions,true);this._captionsEnabled=true}catch(a){}},disableCaptions:function(){try{this.SetTrackEnabled(Media.Spec.QuickTime._captions,false);this._captionsEnabled=false}catch(a){}},videoClosedCaptionsEnabled:function(){return false}},_configure:function(a,f,d){var b=((a&&a.tagName=="EMBED")?true:false);if(!d){return}var e=null,c=null;for(e in d){if(d.hasOwnProperty(e)){if(typeof d[e]==undefined){continue}c=e.toLowerCase();switch(c){case ("type"):case ("src"):case ("data"):case ("classid"):case ("name"):case ("id"):case ("postdomevents"):case ("saveembedtags"):case ("factory"):case ("aggressiveCleanup"):case ("expectingMovieJson"):case ("disableSizeSelector"):case ("disableFullscreenControl"):break;case ("class"):ACUtils.addClassName(f,d[e]);break;case ("innerId"):if(a){a.setAttribute("id",d[e])}break;case ("autoplay"):case ("autostart"):this._addParameter(f,"autostart",d[e]);b==true?a.setAttribute("autostart",d[e]):this._addParameter(a,"autostart",d[e]);break;case ("width"):case ("height"):f.setAttribute(c,d[e]);if(a){a.setAttribute(c,d[e])}break;default:this._addParameter(f,c,d[e]);b==true?a.setAttribute(c,d[e]):this._addParameter(a,c,d[e]);break}}}},_addParameter:function(b,a,c){if(!b){return}var d=document.createElement("param");d.setAttribute("value",c);d.setAttribute("name",a);b.appendChild(d);d=null},_createEmbed:function(b,a){var c=document.createElement("embed");c.setAttribute("src",b);c.setAttribute("type","video/quicktime");if(!Media.Detection.Firefox()&&!Media.Detection.Opera()){c.setAttribute("wmode","transparent")}c.setAttribute("postdomevents",true);c.setAttribute("controller",a.controller);c.setAttribute("showlogo",false);c.setAttribute("scale","tofit");if(a){if(!isNaN(parseInt(a.width,10))){c.setAttribute("width",a.width)}if(!isNaN(parseInt(a.height,10))){c.setAttribute("height",a.height)}if(typeof a.target!="undefined"){c.setAttribute("target",a.target)}}return c},_createInnerObject:function(c,b){var a=document.createElement("object");a.setAttribute("type","video/quicktime");a.setAttribute("id",b.id+"Inner");a.setAttribute("name",b.id);a.setAttribute("width","1");a.setAttribute("height","1");a.setAttribute("data",c);this._addParameter(a,"target",b.target);this._addParameter(a,"postdomevents","true");return a},_createObject:function(c,b){var a=document.createElement("object"),d="7,3,0,0";if(Media.Detection.Mobile()&&b.posterFrame){this._addParameter(a,"src",b.posterFrame);this._addParameter(a,"href",c);this._addParameter(a,"target","myself")}else{this._addParameter(a,"src",c);if(!Media.Detection.Firefox()&&!Media.Detection.Opera()){this._addParameter(a,"wmode","transparent")}}a.setAttribute("id",name);if(!Media.Detection.Mobile()){this._addParameter(a,"showlogo",false);this._addParameter(a,"scale","tofit");this._addParameter(a,"saveembedtags",true);this._addParameter(a,"postdomevents",true)}if(null!==b&&(typeof b.codebase!=="undefined")&&""!==b.codebase){d=b.codeBase}a.setAttribute("codebase","http://www.apple.com/qtactivex/qtplugin.cab#version="+d);return a}}};if(ACUtils.Detector.shouldPlayH264VideoNatively()){HTMLMediaElement.prototype.forcePlay=function(){var a=this,b=document.createElement("a"),d=function(e){e.preventDefault();a.play()},c;b.addEventListener("click",d,false);document.body.appendChild(b);c=document.createEvent("MouseEvents");if(c.initMouseEvent){c.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null);b.dispatchEvent(c)}document.body.removeChild(b)};HTMLMediaElement.prototype.forcePause=function(){var a=this,c=document.createElement("a"),b=function(e){e.preventDefault();a.pause()},d;c.addEventListener("click",b,false);document.body.appendChild(c);d=document.createEvent("MouseEvents");if(d.initMouseEvent){d.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null);c.dispatchEvent(d)}document.body.removeChild(c)}}Media.VideoInterface=function(h,f){var b=h,e=f,a,c,g,d,j;return{videoTitle:function(){return c},setVideoTitle:function(k){c=k},videoUrl:function(){return g},setVideoUrl:function(k){g=k},videoDescription:function(){return d},setVideoDescription:function(k){d=k},videoPosterFrame:function(){return j},setVideoPosterFrame:function(k){j=k},object:function(){return b},setObject:function(k){b=k},setDelegate:function(k){e=k},setup:function(){},override:function(l){var m;function k(o,p){return function(){return p.apply(b,arguments)}}for(m in l){this[m]=k(m,l[m])}return this},registerEvent:function(m,k,l){if(!l&&typeof(k)=="function"){l=k;k=null}var o=k||m;ACUtils.addEventHandler(b,o,function(p){if(l){l.apply(this)}this.messageDelegate(m)}.bindAC(this))},pollForChanges:function(k){if(a){window.clearInterval(a)}if(k){a=window.setInterval(function(){for(var l=0,m;m=k[l];l++){this.messageDelegate(m)}}.bindAC(this),480)}},messageDelegate:function(k){if(!e){return}k=k.charAt(0).toUpperCase()+k.substring(1);var l="videoReceived"+k+"Event";if(l in e){e[l](this)}}}};Media.Controller=function(e){var r=e,x,w,l,A,o,u,b,c=false,p,j=false,q=false,g=false,h=true,v=true,m=false,D=false,a=false,t=false,d=null,f=false,C=false,y=false;function z(F){if(!A||D||!j){return}A.show();window.clearTimeout(o);var E=A.element;mouseElement=F.target||F.srcElement;if(mouseElement==E){o=window.setTimeout(function(){if(A&&typeof A!="undefined"){A.hide()}},2500)}}function k(E){if(!A||!j){return}window.clearTimeout(o);o=window.setTimeout(function(){if(A){A.hide()}},50)}function B(E){if(!A||!j){return}window.clearTimeout(o);o=window.setTimeout(function(){if(A){A.hide()}},50)}function B(E){if(!A||D||!j){return}window.clearTimeout(o);A.show()}function s(E){if(!A){return}window.clearTimeout(o);A.show()}return{isReplaying:function(){return f},setReplaying:function(E){f=E},_send:function(F,E){if(x&&F in x){E=[this].concat(E);return x[F].apply(x,E)}},_fireEvent:function(E,F){Media.Controller.fireEvent(E,F)},reset:function(){c=false;j=false;q=false;g=false},setDelegate:function(E){x=E},setVideo:function(E){j=false;q=false;w=E;b=w.duration()||0;if(A&&A.videoObjectHasChanged){A.videoObjectHasChanged(w)}return this},setVideoSrc:function(E){l=E},video:function(){return w},translationDidLoad:function(){languageJsonComplete=true;this.processControlPanel()},_setControlPanel:function(){if(A){if(existingVideo!=false&&playExistingVideo===true){w.play()}A.delegate=this;ACUtils.addEventHandler(e,"mousemove",z);ACUtils.addEventHandler(e,"mouseout",k);ACUtils.addEventHandler(e,"mouseover",B);if(A.settingsMenu){ACUtils.addEventHandler(A.settingsMenu,"mouseover",s)}w.setTrackTextSpan(A.trackText);if(!A.settingsControlsAreSet&&(w.tagName==="VIDEO")){this.configureSettingsControls(l);A.settingsControlsAreSet=true}if(A.element){A.element.parentNode.parentNode.style.width=this.currentWidth+"px";A.element.parentNode.parentNode.style.height=this.currentHeight+"px"}if(w.object().tagName.toLowerCase()==="video"){this.setSizeAnimation(true)}this.setVideoSizeForWidthAndHeight(this.currentWidth,this.currentHeight);A.setFocus()}else{ACUtils.removeEventHandler(e,"mousemove",z);ACUtils.removeEventHandler(e,"mouseout",k);ACUtils.removeEventHandler(e,"mouseover",B)}return this},setControlPanel:function(E){A=(w.object().tagName==="VIDEO"&&Media.Detection.iPad())?false:E;if(A!=null&&A!=false){MediaLanguage.getTranslations(this)}},beginSeeking:function(){if(c){return}var F=this.playing();c=true;p=F&&this.rate()==1;if(F===true){this.pause()}var E=w.time();this._send("didStartJogging",E);this._fireEvent("QuickTime:didStartJogging",{controller:this,time:E})},endSeeking:function(){var F=w.time(),E=w.duration();c=false;this._send("didStopJogging",F);this._fireEvent("QuickTime:didStopJogging",{controller:this,time:F});if(p){if(F!=E){this.play()}else{q=false;this.videoReceivedEndedEvent(this)}}},supportsFullscreen:function(){return w.supportsFullscreen()},time:function(){return w.time()||this._lastTime||0},setTime:function(E){w.setTime(E);this.videoReceivedTimeupdateEvent()},duration:function(){if(isHTML5){b=w.duration()}else{if(!b){b=w.duration()}}return b},volume:function(){return w.volume()},setVolume:function(E){w.setMuted(false);w.setVolume(E);if(typeof A!="undefined"&&A!=null){A.volumeControlSetting=E}},setMuted:function(E){w.setMuted(E);if(typeof A!="undefined"&&A!=null){A.volumeControlSetting=0}},toggleMute:function(){var E=w.muted();if(E){this.setMuted(false)}else{this.setMuted(true)}return !E},playPause:function(){var E=w.paused(),F=this.rate();if(E&&F===1){this.play()}else{if(F!==1){this.setRate(1)}else{this.pause()}}return w.paused()},playing:function(){return g},play:function(){w.play();g=true;h=false},playing:function(){return g},pause:function(){w.pause();g=false;v=false},stop:function(){w.pause();g=false;v=false;q=true},setRate:function(E){w.setRate(E);if(E!==1||E!==0){m=true}else{m=false}},seekToTime:function(E){return w.seekToTime(E)},rate:function(){return w.rate()},src:function(){return w.src()},setSrc:function(E){w.setSrc(E);this._currentSrc=E},setSizeAnimation:function(E){a=E},_currentPosition:false,_currentSrc:null,_currentVolume:null,getNewWidthAndNewHeightFromSrc:function(I){var F={};var H=this.moviePath();var E=I.match(/\/([^\/]+)$/)[1];F.srcToSet=H+E;var G=E.match(/.+_(\d{0,4})x(\d{0,4})[^_x.]*\.[^.]+$/);if(!G){throw"Invalid filename format for switching sizes. Should include the size as a suffix like this: filename_123x456.mp4"}F.newWidth=G[1];F.newHeight=G[2];return F},setVideoSizeForSrc:function(K){var H=false;var G=w.object().videoWidth||w.object().width;var I=this.getNewWidthAndNewHeightFromSrc(K);var F=this.getLargestSizeOfMovie();var E=this.getCurrentSize(parseInt(I.newWidth),parseInt(I.newHeight));if(E.width==G&&E.type=="large"){H=true}if(C===true||(w.percentLoaded()>=1&&I.newWidth<G)){this.trackSetVideoSize(E,true);this.setVideoSizeForWidthAndHeight(I.newWidth,I.newHeight)}else{this.trackSetVideoSize(E,false);if(a===true){this.setSizeAnimation(false)}this._currentPosition=w.time();this._currentVolume=A.volumeControlSetting;w.pause();if(w.movieType()==="Video"){this.createFrame()}var J=this;window.setTimeout(function(){J.setSrc(I.srcToSet)},10);this.setVideoSizeForWidthAndHeight(I.newWidth,I.newHeight)}},trackSetVideoSize:function(G,E){if((!G)||!G.type){return}var I=(typeof(tracker)!="undefined"&&tracker._id)?tracker._id:"no title";if(window.AC&&typeof(AC.Tracking)!="undefined"){var F=G.type.charAt(0);if(F=="b"){F="s"}var H="v@b:"+F+" - "+(E?"scale":"reload");AC.Tracking.trackClick({prop3:H},this,"o",H)}},getCurrentSize:function(H,E){var I=this.configSettings.metadata.sizes;var F=new Array();if(typeof I!="undefined"){for(var G=0;G<I.length;G++){if(H==I[G].width&&E==I[G].height){F.type=I[G].type;F.width=I[G].width;break}}}return F},getLargestSizeOfMovie:function(){var F=this.configSettings.metadata.sizes;if(typeof F!="undefined"){for(var E in F){if(A!=null&&F[E].width==A.originalElementWidth){return F[E].type}}}},checkIfLargestMovieIsBuffered:function(){if(this.configSettings&&this.configSettings.metadata){var F=this.getCurrentSize(w.object().width,w.object().height);var E=this.getLargestSizeOfMovie();if(F.type==E){C=true}}},setVideoSizeForWidthAndHeight:function(F,P){var G=w.object()||w.object().parentNode;if(this.configSettings!=undefined){d=this.getCurrentSize(F,P)}if(typeof A!="undefined"&&typeof G!="undefined"){function L(){if(typeof A!="undefined"){A.setControllerType();if(ACUtils.Detector.isFirefox()){var S=AC.Element.select(".moviePanel object");var R=AC.Element.select(".moviePanel");var T=S.getInnerDimensions();var U=S.getOuterDimensions();if(T.width==U.width){ACUtils.addClassName(R,"frameless")}if(d.type=="small"){ACUtils.addClassName(R,"small")}else{ACUtils.removeClassName(R,"small")}if(F<848&&typeof A.fadeElement!="undefined"){ACUtils.addClassName(A.fadeElement,"resized")}else{ACUtils.removeClassName(A.fadeElement,"resized")}}setTimeout(function(){A.setTrackContainerWidth()},500);setTimeout(function(){animateEffects.changeOpac(1,A.trackContainer)},600)}}if(this.supportsFullscreen()===true&&(this.configSettings&&this.configSettings.version&&this.configSettings.version>=3)){var E=this.configSettings.metadata.sizes;if(typeof E!="undefined"){if(E[E.length-1].allowFullScreen===true&&E[E.length-1].width==A.originalElementWidth&&C===true){A.enableFullscreenControl()}else{for(var K=0;K<E.length;K++){if(F==E[K].width&&E[K].allowFullScreen===true){A.enableFullscreenControl();break}else{if(F==E[K].width&&E[K].allowFullScreen===false){A.disableFullscreenControlForCurrentSize();break}}}}}}if(ACUtils.Detector.isIEStrict()&&!(ACUtils.Detector.getAgent().match(/msie 9/i))){var N=parseInt(P/2);G.style.marginTop="-"+N+"px";A.element.style.marginTop="-"+N+"px"}if(w.percentLoaded()<1||a===false||Media.Detection.Chrome()){G.width=F;G.height=P;G.style.width=F+"px";G.style.height=P+"px";var I=ACUtils.getByClass("canvasFrame")[0];if(I){I.style.width=F+"px";I.style.height=P+"px"}if(w.movieType()!="Video"&&typeof G.parentNode!=null){G.parentNode.width=F;G.parentNode.height=P}A.container.style.width=F+"px";A.container.style.height=P+"px";if(A.element){A.element.style.width=F+"px";A.element.style.height=P+"px"}if(ACUtils.Detector.isIEStrict()){var H=parseInt(F/2,10);if(A.originalElementWidth!=0&&A.originalElementWidth!=G.width){G.style.left="50%";G.style.marginLeft="-"+H+"px";A.element.style.left="50%";A.element.style.marginLeft="-"+H+"px"}else{G.style.left="";G.style.marginLeft="";A.element.style.left="";A.element.style.marginLeft=""}if(ACUtils.Detector.getAgent().match(/msie 6/i)){document.body.style.display="none";document.body.style.display="block"}}}else{if(Media.Detection.CSSTransitions()===true&&w.movieType()!=="QuickTime"){G.style.width=F+"px";G.style.height=P+"px";if(A){A.container.style.width=F+"px";A.container.style.height=P+"px";if(A.element){A.element.style.width=F+"px";A.element.style.height=P+"px"}}}else{var O=[];if(A&&(A.controllerType==="slim"||A.controllerType==="short-slim")){A._hiding=true;A._showing=false;A.fadeElement.style.opacity="0";A.fadeElement.style.visibility="hidden";if(A.settingsMenu){ACUtils.removeClassName(A.settingsMenu,A.settingsMenu.baseClassName+"-hovered")}D=true}if(A){A.resetSettingsMenus()}O.push(new Effect.Morph(G,{sync:true,style:{width:F+"px",height:P+"px"}}));if(w.movieType!="Video"&&typeof G.parentNode!=null){O.push(new Effect.Morph(G.parentNode,{sync:true,style:{width:F+"px",height:P+"px"}}))}if(A){if(A.container){O.push(new Effect.Morph(A.container,{sync:true,style:{width:F+"px",height:P+"px"}}))}if(A.element){O.push(new Effect.Morph(A.element,{sync:true,style:{width:F+"px",height:P+"px"}}))}}var Q=document.createElement("div");ACUtils.addClassName(Q,"ACMediaRedraw");var J=ACUtils.Detector.getAgent();var M=function(){G.style.outline="1px solid transparent";document.body.appendChild(Q);A.mouseoverSettingsControl(A.sizesControl);G.style.outline="none";document.body.removeChild(Q);A.hide();A.resetSettingsMenus()};new Effect.Parallel(O,{duration:0.4,beforeStart:function(){if(ACUtils.Detector.isIEStrict()){var R=parseInt(G.offsetHeight/2);G.parentNode.style.top="50%";G.style.top="0";A.element.style.top="0";G.style.marginTop="-"+R+"px";A.element.style.marginTop="-"+R+"px";M()}},afterUpdate:function(){D=true;if(ACUtils.Detector.isIEStrict()){var R=parseInt(G.offsetHeight/2);G.parentNode.style.top="50%";G.style.top="0";A.element.style.top="0";G.style.marginTop="-"+R+"px";A.element.style.marginTop="-"+R+"px";M()}},afterFinish:function(){if(ACUtils.Detector.isIEStrict()){var R=parseInt(P/2);G.parentNode.style.top="50%";G.style.top="0";A.element.style.top="0";G.style.marginTop="-"+R+"px";A.element.style.marginTop="-"+R+"px";A.mouseoutSettingsControl(A.sizesControl);A.hide()}L();window.clearTimeout(u);u=window.setTimeout(function(){if(A&&(A.controllerType==="slim"||A.controllerType==="short-slim")){A.fadeElement.style.visibility="visible";A.fadeElement.style.opacity="1";A._hiding=false;A._showing=false}D=false},50)}})}}L()}this.currentWidth=F;this.currentHeight=P},timeScale:function(){return w.timeScale()},movieType:function(){return w.movieType()},moviePath:function(){var E,F="";if(typeof l!="undefined"&&l.length>0){E=l.substring(0,l.lastIndexOf("_"))+".html"}else{return}if(E.match(/\w+:\/\//i)){if((window.location.href.match(/\w+:\/\/ic/i)||window.location.href.match(/\w+:\/\/17/i)||window.location.href.match(/\w+:\/\/192/i)||window.location.href.match(/\w+:\/\/www-dev/i))&&E.indexOf("/105")<0){E=E.replace(/\w+:\/\/[^\/]+/i,"/105")}else{E=E.replace(/\w+:\/\/[^\/]+/i,"")}}F=E.substring(0,(E.lastIndexOf("../../index.html")+1));return F},setCaptionsAvailable:function(E){var F=this.enableCaptionsControl.bindAC(this);w.setCaptionsAvailable(F,E)},enableCaptionsControl:function(){if(A&&typeof A.enableCaptionsControl!=="undefined"){A.enableCaptionsControl();return true}return false},enableCaptions:function(){w.enableCaptions();this._fireEvent("QuickTime:didSetClosedCaptions",{controller:this,enabled:true})},disableCaptions:function(){w.disableCaptions();this._fireEvent("QuickTime:didSetClosedCaptions",{controller:this,enabled:false})},enableCaptionsTextDisplay:function(){return w.videoClosedCaptionsEnabled()},resetCaptions:function(){w.disableCaptions()},setSizesAvailable:function(G){this.sizesMenuOptions=G;for(var E=0,F;F=this.sizesMenuOptions[E];E++){this.sizesMenuOptions["size_"+F.type]=F}this.enableSizesControl()},enableSizesControl:function(){if(A&&typeof A.enableSizesControl!=="undefined"&&this.disableSizeSelector===false){if(this.sizesMenuOptions&&this.sizesMenuOptions.length>1){A.buildSizesMenu(this.sizesMenuOptions);A.setSizesAvailable();A.enableSizesControl();return true}}return false},setDownloadAvailable:function(G){this.downloadMenuOptions=G;for(var E=0,F;F=this.downloadMenuOptions[E];E++){this.downloadMenuOptions["download_"+F.type]=F}this.enableDownloadControl()},enableDownloadControl:function(){if(A&&typeof A.enableDownloadControl!=="undefined"){if(this.downloadMenuOptions.length>0){A.buildDownloadMenu(this.downloadMenuOptions);A.setDownloadAvailable();A.enableDownloadControl();return true}}return false},setShareAvailable:function(F){if(A&&typeof A.enableShareControl!=="undefined"&&ac_media_language.sharemenu){var K=document.getElementsByTagName("head").item(0),E=ac_media_language.sharemenu,I=this;for(var J=0,L;L=E[J];J++){var H=document.createElement("script"),G;H.setAttribute("type","text/javascript");H.pluginName=L.id;G=function(){if(typeof window.event!="undefined"){var M=window.event.srcElement;if(!window.event||((M=window.event.srcElement)&&(M.isLoaded||((typeof M.isLoaded==="undefined")&&((M.readyState=="complete")||(M.readyState=="loaded")))))){if(M&&!M.isLoaded){M.onreadystatechange=null;M.isLoaded=true}Event._domReady()}}};if(H.addEventListener){H.addEventListener("load",G,false)}else{if(typeof H.onreadystatechange==="function"){H.onreadystatechange=function(){if(this.readyState=="complete"){G()}}}else{H.onreadystatechange=G}}H.setAttribute("src",L.plugin);K.appendChild(H);E[J].localScript=H}}},setFullscreenAvailable:function(){this.enableFullscreenControl()},enableFullscreenControl:function(){if(A&&typeof A.enableFullscreenControl!=="undefined"){A.enableFullscreenControl();return true}return false},enableFullscreen:function(){w.enableFullscreen();this._fireEvent("QuickTime:didSetClosedFullscreen",{controller:this,enabled:true})},disableFullscreen:function(){w.disableFullscreen();this._fireEvent("QuickTime:didSetClosedFullscreen",{controller:this,enabled:false})},language:null,path:null,configureSettingsControls:function(F){if(existingVideo!=false&&t===true){return}var E,G=document.body.parentNode.getAttribute("lang");this.language=language=MediaLanguage.getLangFromAttr(G);this.path=path=this.moviePath();if(isStreaming===true){this.expectingMovieJson=false}if(this.expectingMovieJson===true){if(typeof F!="undefined"&&F.length>0){E=F.substring(0,F.lastIndexOf("_"))+".json"}else{return}if(E.match(/\w+:\/\//i)){if((window.location.href.match(/\w+:\/\/ic/i)||window.location.href.match(/\w+:\/\/17/i)||window.location.href.match(/\w+:\/\/192/i)||window.location.href.match(/\w+:\/\/www-dev/i))&&E.indexOf("/105")<0){E=E.replace(/\w+:\/\/[^\/]+/i,"/105")}else{E=E.replace(/\w+:\/\/[^\/]+/i,"")}}new ACUtilsAjax.AjaxRequest(E,{method:"get",requestHeaders:{Accept:"application/json"},onSuccess:function(H){this.configSettings=new Function("return "+H.responseText)();this.setVideoId();movieJsonLoaded=true}.bindAC(this),onFailure:function(){if(typeof A!="undefined"&&A!=null){}}.bindAC(this),onComplete:function(){movieJsonComplete=true;this.processControlPanel()}.bindAC(this),evalJS:false})}},processControlPanel:function(){if(y!==true){if((movieJsonComplete===true||this.expectingMovieJson===false)&&languageJsonComplete===true&&(videoReceivedMetadata===true)){if(initializedCP===false){A._setupControls()}if(isStreaming===true){A.handleStreaming()}this.setSettingsControlsAvailableForLanguageAndPath(this.language,this.path);this._setControlPanel();y=true}}},_videoId:null,setVideoId:function(){if(this.configSettings&&this.configSettings.version&&(this.configSettings.version>=2)){if(this.configSettings.vid){this._videoId=this.configSettings.vid}}else{this._videoId=null}},videoID:function(){return this._videoId},disableSizeSelector:false,disableFullscreenControl:false,expectingMovieJson:true,setSettingsControlsAvailableForLanguageAndPath:function(M,S){if(this.configSettings){var P=this.configSettings.metadata.captions,E=this.configSettings.metadata.sizes,R=this.configSettings.metadata.downloads,Q=this.configSettings.metadata.share||true,N=this.configSettings.metadata.lang,I=this.configSettings.metadata.title,F=this.configSettings.metadata.description,K=this.configSettings.src,O=this.configSettings.posterframe||"http://images.apple.com/global/elements/overlay/overlay_movie_endstate_640x400_20081014.jpg"}if(typeof I!="undefined"){w.setVideoTitle(I)}if(typeof K!="undefined"){w.setVideoUrl(K)}if(typeof F!="undefined"){w.setVideoDescription(F)}if(typeof O!="undefined"){w.setVideoPosterFrame(O)}if(typeof A!="undefined"){if(typeof P!="undefined"){var G=P.substring(P.lastIndexOf("../../index.html"),P.length),J=S+((G[0]==="../../index.html")?G.substring(1,G.length):G);A.captionsUrl=J;this.setCaptionsAvailable(A.captionsUrl)}}if(typeof E!="undefined"&&this.disableSizeSelector===false){this.setSizesAvailable(E)}if(typeof downloadsList!="undefined"){this.setDownloadAvailable(R)}if(Q){this.setShareAvailable()}var H=false;if(!this.configSettings){H=true}else{if(this.configSettings.version&&this.configSettings.version>=3){if(typeof E!="undefined"){for(var L=0;L<E.length;L++){if(E[L].allowFullScreen===true){H=true}}}}}if(this.supportsFullscreen()===true&&H===true&&(this.disableFullscreenControl===false||this.disableFullscreenControl==="false")){this.setFullscreenAvailable()}if(typeof J=="undefined"&&typeof E=="undefined"&&typeof downloadsList=="undefined"&&!Q&&this.supportsFullscreen()===false&&typeof A!="undefined"){}t=true},videoReceivedPlayingEvent:function(E){if(w&&this._currentPosition!==false&&this._currentSrc!==null){this.pause()}if(this.movieType()=="QuickTime"&&(!Media.Detection.iPad())&&(!Media.Detection.Mobile())){try{w.object().SetControllerVisible(false)}catch(F){}}if(!j&&(this.movieType()=="Video"||(this.time()>0&&this.duration!=0))){if(A&&typeof A.mediaDidBecomePlayable!=="undefined"){A.mediaDidBecomePlayable()}if(A&&typeof A.enableBasicControls!=="undefined"&&videoReceivedMetadata===true){A.enableBasicControls();A.setSettingsControls();if(typeof A.captionsUrl!="undefined"&&(!!A.captionsControl&&!A.captionsControl.isEnabled)){this.setCaptionsAvailable(A.captionsUrl)}switch(true){case (typeof A.captionsControlSetting!="undefined"&&A.captionsControlSetting===true):w.enableCaptions();break;default:break}}g=true;if(this.container){ACUtils.removeClassName(this.container,this.movieLoadingPanelClass)}j=true;this._send("didBecomePlayable");this._fireEvent("QuickTime:canplaythrough",{controller:this});this._send("didBegin");this._fireEvent("QuickTime:begin",{controller:this});o=window.setTimeout(function(){if(A&&typeof A!="undefined"){A.hide()}},500)}},videoReceivedLoadEvent:function(F){if(A){var E=w.percentLoaded();A.updatePercentLoaded(E);if(this._currentVolume!=null&&A.volumeControlSetting!="undefined"&&A.volumeControlSetting!=1){if(A.volumeControlSetting==0){A.muteVolume()}else{if(A.setVolume!="undefined"){this.setVolume(A.volumeControlSetting)}}this._currentVolume=null}if(E<=1&&typeof A.captionsUrl!="undefined"&&!A.captionsControl.isEnabled){this.setCaptionsAvailable(A.captionsUrl)}}},videoReceivedLoadedmetadataEvent:function(E){var F=null;if((!Media.Detection.iPad())&&(!Media.Detection.Mobile())){if(videoReceivedMetadata===false){if(isHTML5===false){try{F=w.object().GetTrackCount()}catch(H){}}else{videoReceivedMetadata=true}}if(videoReceivedMetadata===false&&F!=null){var G;if(F>0){for(G=1;G<=F;G++){if("Streaming"===w.object().GetTrackType(G)){isStreaming=true}}}videoReceivedMetadata=true}if(isStreaming===true){if(isHTML5&&isLiveStreaming){if(w.duration()!==Infinity){isLiveStreaming=false}}else{if(!isHTML5){if((typeof w.object().GetDuration!="undefined"&&w.object().GetDuration()===2147483647)){isLiveStreaming=true}}}}if(isHTML5===false&&isLiveStreaming===true){if(typeof w.object().GetDuration!="undefined"&&w.object().GetDuration()!==2147483647){isLiveStreaming=false;y=false}}if(A&&typeof A.enableBasicControls!=="undefined"&&videoReceivedMetadata===true){this.processControlPanel()}}},videoReceivedEndedEvent:function(E){var G=w.time();b=w.duration();if(q){return}if(j&&!c&&((G>=b&&b!=0)||(w.movieType()=="SBVDP"&&b!=0&&G>=(b-0.5)))){q=true;this.videoReceivedTimeupdateEvent(this);if(A){A.resetSettingsMenus();if(ACUtils.Detector.isIEStrict()){var F=w.object();F.parentNode.style.width="";F.parentNode.style.height="";F.parentNode.style.top="";F.style.top="";A.element.style.top="";F.style.marginTop="";A.element.style.marginTop="";F.parentNode.style.left="";F.style.left="";A.element.style.left="";F.style.marginLeft="";A.element.style.marginLeft=""}}this._send("onMovieFinished");this._send("didEnd");this._fireEvent("QuickTime:end",{controller:this})}},videoReceivedPlayEvent:function(E){this._currentPlayState="playing";if(h){return}h=true;this._send("didStart");this._fireEvent("QuickTime:start",{controller:this})},videoReceivedPauseEvent:function(E){this._currentPlayState="paused";if(v){return}v=true;this._send("didStop");this._fireEvent("QuickTime:stop",{controller:this})},videoReceivedTimeupdateEvent:function(E){var F=w.time()||0;if(A){A.updateTime(F)}if(this._lastTime!=F){this._fireEvent("QuickTime:didPlayProgress",{controller:this,currentTime:F,duration:this.duration()})}this._lastTime=F},videoReceivedProgressEvent:function(E){if(A){A.updatePercentLoaded(w.percentLoaded())}if(w.percentLoaded()>=1&&C===false){this.checkIfLargestMovieIsBuffered()}if(w&&this._currentPosition!==false&&this._currentSrc!==null){try{var H=(this.movieType()==="Video")?w.object().buffered.end(0):w.object().GetMaxTimeLoaded()/w.object().GetTimeScale()}catch(G){}}if(w&&this._currentPosition!==false&&this._currentSrc!==null&&H!="undefined"&&(this._currentPosition<H)){if(this._currentPosition<H){w.setTime(this._currentPosition);this.play();this._currentPosition=false;var F=this;if(w.movieType()==="Video"){window.setTimeout(function(){F.destroyFrame()},600)}}else{if(g===true){this.pause()}}}switch(true){case (!j&&Media.Detection.SnowLeopard()&&this.movieType()=="Video"&&w.autoplay()===true&&w.readystate()>=3&&w.percentLoaded()>0.4):this.play();break;default:break}},videoReceivedDurationchangeEvent:function(E){if(isHTML5&&isStreaming){if(this.duration()!==Infinity){isLiveStreaming=false;if(A&&y===true){y=false;this.processControlPanel()}}}if(A){A.updateRemainingTime(this.duration()-this.time())}},videoReceivedWebkitendfullscreenEvent:function(E){if(A){if(typeof this._currentPlayState!="undefined"&&this._currentPlayState==="playing"){A.play()}else{if(typeof this._currentPlayState!="undefined"&&this._currentPlayState==="paused"){A.pause()}}var F=this.volume();if(A.volumeScrubber){A.volumeScrubber.setValue(F)}this.setVolume(F)}},captureFrame:function(I,F,H){var G=document.createElement("canvas");G.width=F;G.height=H;var E=G.getContext("2d");E.drawImage(I,0,0,F,H);return G},_isLoading:false,createFrame:function(){if(this._isLoading!==true){var I=(w.movieType()==="Video"||w.object().tagName==="OBJECT")?w.object():w.object().parentNode;var F=I.videoWidth,H=I.videoHeight,J=document.createElement("div"),E=document.createElement("div");if(w.movieType()==="Video"){var G=this.captureFrame(I,F,H);ACUtils.addClassName(G,"canvasFrame");G.style.width=F+"px";G.style.height=H+"px";I.parentNode.insertBefore(G,I.parentNode.lastChild)}J.id="loadingIndicator";J.style.opacity="0";J.appendChild(E);I.parentNode.insertBefore(J,I.parentNode.lastChild);J.style.left=parseInt(I.parentNode.clientWidth)/2-parseInt(J.offsetWidth)/2+"px";J.style.top=parseInt(I.parentNode.clientHeight)/2-parseInt(J.offsetHeight)/2+"px";if(w.movieType()==="Video"){J.style.opacity="1"}else{new animateEffects.opacity(J,0,1,300)}this._isLoading=true}},destroyFrame:function(){if(this._isLoading!==false){var E=$$(".canvasFrame")[0]||false,F=document.getElementById("loadingIndicator");if(w.movieType()==="Video"){E.style.opacity="0";F.style.opacity="0"}else{if(F){new animateEffects.opacity(F,1,0,300)}}window.setTimeout(function(){if(E){E.parentNode.removeChild(E)}F.parentNode.removeChild(F)},1000);this._isLoading=false}}}};Media.Controller.fireEvent=function(b,c){var a=document.getElementsByTagName("body")[0];if("fire" in a){a.fire(b,c)}};Media.ControlsWidget=function(g,a,c){this.settingsControlsAreSet=false;this.container=g;this.delegate=a;this.options=c;ACUtils.addEventHandler(document.body,"PluginClass:Added",this.registerPluginClass.bindAC(this));for(var d=0,f;f=Media.ControlsWidget.pluginTypes[d];d++){for(var b=0,e;e=f[b];b++){this.registerPluginClass(e)}}if(!Media.Detection.iPad()){this._createTemplate();initializedCP=false;this._setupControls()}};Media.ControlsWidget.registerPluginClass=function(a){var c=a.prototype.name(),d=a.prototype.pluginType(),b;this.pluginTypes(d);this.pluginClassesForType;if(!(b=Media.ControlsWidget._pluginTypes[d])||!Media.ControlsWidget._pluginTypes.hasOwnProperty(d)){b=[];Media.ControlsWidget._pluginTypes[d]=b;Media.ControlsWidget._pluginTypes.push(d)}if(!b.hasOwnProperty(c)){b[c]=c;b.push(c)}Media.Controller.fireEvent("PluginClass:Added",{plugin:a,name:c,type:d})};Media.ControlsWidget._pluginTypes=[];Media.ControlsWidget.pluginTypes=function(a){return this._pluginTypes};Media.ControlsWidget.pluginClassesForType=function(a){return this.pluginTypes[a]};Media.ControlsWidget.TEMPLATE='<div id="ACMedia-controls" class="ACMediaControls" tabindex="0">  <a href="#video"></a>  <div id="ACMedia-alert-display-container" class="ACMediaAlertDisplay"></div>  <div id="ACMedia-track-text" class="ACMediaTrackText"><span id="ACMedia-track-text-span"></span></div>    <div id="ACMedia-controls-panel" class="mediaControllerPanel">    <div class="slim-left-cap"></div>        <div id="ACMedia-media-controller" class="ACMediaController">            <div id="ACMedia-volume-mute" class="volumeMute" role="button"></div>            <div class="volumePanel">                <div id="ACMedia-volume-track" class="volumeTrack">                    <div id="ACMedia-control-volume-progress" class="volumeTrackProgress"></div>                    <div id="ACMedia-volume-handle" class="volumePlayHead"></div>                </div>            </div>      <div id="ACMedia-volume-full" class="volumeFull" role="button"></div>            <div id="ACMedia-control-fastbackward" class="fastBackward"></div>            <div id="ACMedia-control-play-pause"></div>            <div id="ACMedia-control-fastforward" class="fastForward"></div>      <div id="ACMedia-track-container" class="track-container">              <div id="ACMedia-control-time-display" class="timeDisplay" aria-label="elapsed" role="timer"><span id="ACMedia-min-played">00</span>:<span id="ACMedia-sec-played">00</span></div>              <div class="trackPanel">                  <div id="ACMedia-control-track" class="track">                      <div id="ACMedia-control-loaded-progress" class="loadedProgress"></div>                      <div id="ACMedia-control-track-progress" class="trackProgress"></div>                      <div id="ACMedia-control-playhead" class="playHead"></div>                  </div>          <div id="ACMedia-track-end-cap" class="track-right-cap"></div>              </div>              <div id="ACMedia-control-duration-display" class="durationDisplay" aria-label="remaining" role="timer">-<span id="ACMedia-min-remain">00</span>:<span id="ACMedia-sec-remain">00</span></div>      </div>      <div id="ACMedia-settings-controls" class="settingsControls">        <div id="ACMedia-captions-control" class="captionsControl" tabindex="0" role="checkbox" aria-checked="false"></div>        <div id="ACMedia-sizes-control" class="sizesControl"></div>        <div id="ACMedia-download-control" class="downloadControl"></div>        <div id="ACMedia-share-control" class="shareControl"></div>        <div id="ACMedia-fullscreen-control" class="fullscreenControl"></div>      </div>      <div id="ACMedia-stream-control" class="streamText"></div>        </div>    <div class="slim-right-cap"></div>    </div></div>';Media.ControlsWidget.show=function(a){if(a.fadeElement&&!a._showing){if(a._effect){delete a._effect}a._showing=true;a._hiding=false;if(a.fadeElement){if(Media.Detection.CSSTransitions()===true){a._effect=function(){ACUtils.removeClassName(a.fadeElement,"fade")};a._effect()}else{a._effect=new animateEffects.opacity(a.fadeElement,0,1,500,{afterFinish:function(){a._showing=false}})}}}};Media.ControlsWidget.hide=function(a){if(a.fadeElement&&!a._hiding){if(a._effect){delete a._effect}a._hiding=true;a._showing=false;if(a.fadeElement){if(Media.Detection.CSSTransitions()===true){a._effect=function(){a.resetSettingsMenus();ACUtils.addClassName(a.fadeElement,"fade")};a._effect()}else{a._effect=new animateEffects.opacity(a.fadeElement,1,0,500,{beforeStart:function(){a.resetSettingsMenus()},afterFinish:function(){a._hiding=false}})}}}};Media.ControlsWidget.prototype={delegate:null,element:null,_plugins:[],_buildControlWithTitleOptions:function(d,c){var b=document.createElement("li"),a=document.createElement("a");ACUtils.addClassName(b,d);if(typeof c!="undefined"&&typeof c.url!="undefined"&&typeof c.name!="undefined"){a.setAttribute("href",c.url);a.innerHTML=c.name;b.appendChild(a)}else{return}b.baseClassName=b.baseClassName||b.className;ACUtils.addEventHandler(b,"mousedown",function(e){ACUtils.addClassName(b,b.baseClassName+"-active")}.bindAC(b));ACUtils.addEventHandler(b,"mouseup",function(e){ACUtils.removeClassName(b,b.baseClassName+"-active")}.bindAC(b));ACUtils.addEventHandler(document.documentElement,"mouseup",function(e){ACUtils.removeClassName(b,b.baseClassName+"-active")}.bindAC(b));ACUtils.addEventHandler(b,"mouseover",function(e){ACUtils.addClassName(b,b.baseClassName+"-hover")}.bindAC(b));ACUtils.addEventHandler(b,"mouseout",function(e){ACUtils.removeClassName(b,b.baseClassName+"-hover")}.bindAC(b));return b},_sizesMenuControls:[],selectSizeFromMenu:function(c){if(typeof c!="undefined"){this._unselectMenu();this._unselectControl(this.sizesControl);for(var b=0,a;a=this._sizesMenuControls[b];b++){((ACUtils.trim(a.className.toString()).split(" ")[0])===(ACUtils.trim(c.className.toString()).split(" ")[0]))?this._selectControl(a):this._unselectControl(a)}this._send("setVideoSizeForSrc",c.optionsUrl);this.sizesControlSetting=c}},_getSizesMenuControl:function(b,e,a){var d=this.temp=this._buildControlWithTitleOptions("size"+e,{url:a.src,name:(ac_media_language[b]||e)+" "+a.width+"x"+a.height});d.appendChild(document.createElement("span"));d.optionsUrl=a.src;var c=this;ACUtils.addEventHandler(d,"click",function(f){var g=ACUtils.getByClass("track-container")[0];animateEffects.changeOpac(0,g.id);ACUtils.stopEvent(f);c.selectSizeFromMenu(d);return false});if(this.element.offsetWidth==a.width&&this.element.offsetHeight==a.height){this._selectControl(d)}return d},_firstLoad:false,originalElementWidth:0,buildSizesMenu:function(a){var b=this.sizesMenu;if(b.firstChild){while(b.firstChild){b.removeChild(b.firstChild)}}if(!this._firstLoad){this.originalElementWidth=this.element.offsetWidth;this.originalElementHeight=this.element.offsetHeight;this._firstLoad=true}if(Media.Detection.CSSTransitions()===true){this.element.style.width=this.originalElementWidth+"px";this.element.style.height=this.originalElementHeight+"px"}if(typeof a.size_hd!="undefined"&&this.originalElementWidth>=a.size_hd.width&&this.originalElementHeight>=a.size_hd.height){this.sizesHDControl=this._getSizesMenuControl("hd","HD",a.size_hd);this._sizesMenuControls.push(this.sizesHDControl);b.appendChild(this.sizesHDControl)}if(typeof a.size_large!="undefined"&&this.originalElementWidth>=a.size_large.width&&this.originalElementHeight>=a.size_large.height){this.sizesLargeControl=this._getSizesMenuControl("large","Large",a.size_large);this._sizesMenuControls.push(this.sizesLargeControl);b.appendChild(this.sizesLargeControl)}if(typeof a.size_medium!="undefined"&&this.originalElementWidth>=a.size_medium.width&&this.originalElementHeight>=a.size_medium.height){this.sizesMediumControl=this._getSizesMenuControl("medium","Medium",a.size_medium);this._sizesMenuControls.push(this.sizesMediumControl);b.appendChild(this.sizesMediumControl)}if(typeof a.size_small!="undefined"&&this.originalElementWidth>=a.size_small.width&&this.originalElementHeight>=a.size_small.height){this.sizesSmallControl=this._getSizesMenuControl("small","Small",a.size_small);this._sizesMenuControls.push(this.sizesSmallControl);b.appendChild(this.sizesSmallControl)}return this._sizesMenuControls},_downloadMenuControls:[],_getDownloadMenuControl:function(c,f,b){var a=(f.match(/\//))?f.substring(0,f.indexOf("/")):f,d="mb";var e=this._buildControlWithTitleOptions("download"+a,{url:b.src,name:(ac_media_language[c]||f)+" "+b.size+(ac_media_language[d]||"MB")});ACUtils.addEventHandler(e,"click",function(g){ACUtils.stopEvent(g);this._unselectMenu();this._unselectControl(this.downloadControl);document.location.href=b.src}.bindAsEventListenerAC(this));return e},buildDownloadMenu:function(a){if(typeof a.download_hd!="undefined"){this.downloadHDControl=this._getDownloadMenuControl("hd","HD",a.download_hd);this._downloadMenuControls.push(this.downloadHDControl);this.downloadMenu.appendChild(this.downloadHDControl)}if(typeof a.download_large!="undefined"){this.downloadLargeControl=this._getDownloadMenuControl("large","Large",a.download_large);this._downloadMenuControls.push(this.downloadLargeControl);this.downloadMenu.appendChild(this.downloadLargeControl)}if(typeof a.download_ipod!="undefined"){this.downloadiPodControl=this._getDownloadMenuControl("ipod","iPod/iPhone",a.download_ipod);this._downloadMenuControls.push(this.downloadiPodControl);this.downloadMenu.appendChild(this.downloadiPodControl)}return this._downloadMenuControls},_shareMenuControls:[],buildShareMenu:function(b){var d=b.name(),a=b.url();var e=this[d.toLowerCase()+"Control"]=this._buildControlWithTitleOptions(d,{url:a,name:d});var c=this._send("video");ACUtils.addEventHandler(e,"click",function(f){ACUtils.stopEvent(f);b.share(c)});this._shareMenuControls.push(e);this.shareMenu.appendChild(e);ACUtils.addClassName(e,e.baseClassName+"-enabled");return this._shareMenuControls},_registeredPlugins:[],registerPluginClass:function(b){var c=new b.memo.plugin(),d=c.name(),a=c.actionName(),e=c.pluginType();this._registeredPlugins.push(c);this.buildShareMenu(c);if(!this.shareEnabled){this.setShareAvailable();this.enableShareControl()}},_createTemplate:function(){function a(e){var c=document.createElement("div"),d;c.innerHTML=e;d=c.firstChild;return d}this.setControllerType();var b=new Date();this.timestamp=b.getTime();this.container.appendChild(a(Media.ControlsWidget.TEMPLATE));this.element=document.getElementById("ACMedia-controls");this.element.id="ACMedia-controls_"+this.timestamp;this.element.style.outline="none";ACUtils.addEventHandler(this.element,"keydown",this.keyDownHandler.bindAsEventListenerAC(this))},_setRegularControllerType:function(){ACUtils.removeClassName(this.container,"slim");ACUtils.removeClassName(this.container,"short-slim");this.controllerType="regular"},_setSlimControllerType:function(){ACUtils.addClassName(this.container,"slim");ACUtils.removeClassName(this.container,"short-slim");this.controllerType="slim"},_setShortSlimControllerType:function(){ACUtils.addClassName(this.container,"slim");ACUtils.addClassName(this.container,"short-slim");this.controllerType="short-slim"},setControllerType:function(){switch(true){case Media.Detection.Firefox():case Media.Detection.Opera():case (typeof this.options!="undefined"&&this.options.slimController===true):case (typeof this.options!="undefined"&&this.options.controllerType==="slim"):if(this.container.offsetWidth<450){this._setShortSlimControllerType()}else{this._setSlimControllerType()}break;case (this.container.offsetWidth<450&&!ACUtils.Detector.isIEStrict()):this._setShortSlimControllerType();break;default:this._setRegularControllerType()}if(!this.volumeScrubber){this.createVolumeScrubber()}},setFocus:function(){if(this.element){window.setTimeout(function(){try{this.element.focus()}catch(a){this.setFocus()}}.bindAC(this),50)}},_setupControls:function(){var g=this.timestamp;this.fadeElement=d("ACMedia-controls-panel");this.trackEndCap=d("ACMedia-track-end-cap");function a(k){var j=k.id;k.id=j+"_"+g;return k.id}function f(j){j.baseClassName=j.baseClassName||j.className}function b(l){f(l);function j(m){ACUtils.addClassName(this,this.baseClassName+"-active")}function k(m){ACUtils.removeClassName(this,this.baseClassName+"-active")}ACUtils.addEventHandler(l,"mousedown",j.bindAC(l));ACUtils.addEventHandler(l,"mouseup",k.bindAC(l));ACUtils.addEventHandler(document.documentElement,"mouseup",k.bindAC(l))}function e(k){if(!k.baseClassName){f(k)}function l(m){ACUtils.addClassName(this,k.baseClassName+"-hover")}function j(m){ACUtils.removeClassName(this,k.baseClassName+"-hover")}ACUtils.addEventHandler(k,"mouseover",l.bindAC(k));ACUtils.addEventHandler(k,"mouseout",j.bindAC(k))}function d(l){var k=document.getElementById(l),j=a(k);return k}this.toggleControl=d("ACMedia-control-play-pause");this.playControl=document.createElement("div");this.playControl.setAttribute("role","button");this.playControl.tabIndex=-1;ACUtils.addClassName(this.playControl,"play");b(this.playControl);this.playControl.id="ACMedia-play-control_"+this.timestamp;ACUtils.addEventHandler(this.playControl,"click",this.play.bindAC(this));this.playControl.innerHTML=ac_media_language.play||"Play";this.playControl.style.display="none";this.pauseControl=document.createElement("div");this.pauseControl.setAttribute("role","button");this.pauseControl.tabIndex=-1;ACUtils.addClassName(this.pauseControl,"pause");b(this.pauseControl);this.pauseControl.id="ACMedia-pause-control_"+this.timestamp;ACUtils.addEventHandler(this.pauseControl,"click",this.pause.bindAC(this));this.pauseControl.innerHTML=ac_media_language.pause||"Pause";this.pauseControl.style.display="none";ACUtils.showElement(this._send("playing")?this.pauseControl:this.playControl);var c=this.toggleControl;c.appendChild(this.playControl);c.appendChild(this.pauseControl);this.fastBackwardControl=d("ACMedia-control-fastbackward");this.fastBackwardControl.innerHTML=ac_media_language.fastreverse||"Fast Reverse";ACUtils.addEventHandler(this.fastBackwardControl,"click",this.fastBackward.bindAC(this));b(this.fastBackwardControl);this.fastForwardControl=d("ACMedia-control-fastforward");this.fastForwardControl.innerHTML=ac_media_language.fastforward||"Fast Forward";ACUtils.addEventHandler(this.fastForwardControl,"click",this.fastForward.bindAC(this));b(this.fastForwardControl);this.volumeMuteControl=d("ACMedia-volume-mute");this.volumeMuteControl.innerHTML=ac_media_language.mutevolume||"Mute Volume";ACUtils.addEventHandler(this.volumeMuteControl,"click",this.muteVolume.bindAC(this));b(this.volumeMuteControl);this.volumeFullControl=d("ACMedia-volume-full");this.volumeFullControl.innerHTML=ac_media_language.fullvolume||"Full Volume";ACUtils.addEventHandler(this.volumeFullControl,"click",this.fullVolume.bindAC(this));b(this.volumeFullControl);this.settingsControls=d("ACMedia-settings-controls");f(this.settingsControls);this.captionsControl=d("ACMedia-captions-control");if(!ACUtils.Detector.isIEStrict()){this.captionsControl.innerHTML=ac_media_language.captionscontrol||"Closed Captions"}ACUtils.addEventHandler(this.captionsControl,"click",this.toggleCaptions.bindAC(this));b(this.captionsControl);this.sizesControl=d("ACMedia-sizes-control");if(!ACUtils.Detector.isIEStrict()){this.sizesControl.innerHTML=ac_media_language.sizescontrol||"Video Size"}this.sizesControl.controlName="sizes";ACUtils.addEventHandler(this.sizesControl,"click",this.toggleSizesMenu.bindAC(this),false);b(this.sizesControl);ACUtils.addEventHandler(this.sizesControl,"mouseover",this.mouseoverSettingsControl.bindAC(this,this.sizesControl),false);ACUtils.addEventHandler(this.sizesControl,"mouseout",this.mouseoutSettingsControl.bindAsEventListenerAC(this,this.sizesControl),false);this.downloadControl=d("ACMedia-download-control");if(!ACUtils.Detector.isIEStrict()){this.downloadControl.innerHTML=ac_media_language.downloadcontrol||"Download Video"}this.downloadControl.controlName="download";ACUtils.addEventHandler(this.downloadControl,"click",this.toggleDownloadMenu.bindAC(this));b(this.downloadControl);ACUtils.addEventHandler(this.downloadControl,"mouseover",this.mouseoverSettingsControl.bindAC(this,this.downloadControl));ACUtils.addEventHandler(this.downloadControl,"mouseout",this.mouseoutSettingsControl.bindAsEventListenerAC(this,this.downloadControl));this.shareControl=d("ACMedia-share-control");if(!ACUtils.Detector.isIEStrict()){this.shareControl.innerHTML=ac_media_language.sharecontrol||"Share Video"}this.shareControl.controlName="share";ACUtils.addEventHandler(this.shareControl,"click",this.toggleShareMenu.bindAC(this));b(this.shareControl);ACUtils.addEventHandler(this.shareControl,"mouseover",this.mouseoverSettingsControl.bindAC(this,this.shareControl));ACUtils.addEventHandler(this.shareControl,"mouseout",this.mouseoutSettingsControl.bindAsEventListenerAC(this,this.shareControl));this.fullscreenControl=d("ACMedia-fullscreen-control");if(!ACUtils.Detector.isIEStrict()){this.fullscreenControl.innerHTML=ac_media_language.fullscreencontrol||"Full Screen"}ACUtils.addEventHandler(this.fullscreenControl,"click",this.toggleFullscreen.bindAC(this));b(this.fullscreenControl);this.settingsMenu=document.createElement("div");if(Media.Detection.CSSBorderRadius()===false){this.settingsMenuRoundRect=this.getRoundRectForArcAndOpacity(0.05,0.9);this.settingsMenu.appendChild(this.settingsMenuRoundRect)}this.settingsMenu.id="ACMedia-settings-menu_"+this.timestamp;ACUtils.addClassName(this.settingsMenu,"ACMediaSettingsMenu");document.body.appendChild(this.settingsMenu);this.settingsMenu.baseClassName="ACMediaSettingsMenu";if(ACUtils.Detector.isIEStrict()){ACUtils.addEventHandler(this.settingsMenu,"click",function(j){if(!j){j=window.event}var k=ACUtils.getTarget(j);if(k&&k.tagName!=null&&k.tagName!="A"){ACUtils.stopEvent(j)}})}this.settingsMenuCarrot=document.createElement("div");ACUtils.addClassName(this.settingsMenuCarrot,"ACMediaSettingsMenuCarrot");this.settingsMenu.appendChild(this.settingsMenuCarrot);this.settingsMenuTitle=document.createElement("div");ACUtils.addClassName(this.settingsMenuTitle,"ACMediaSettingsMenuTitle");this.settingsMenu.appendChild(this.settingsMenuTitle);this.mediaController=d("ACMedia-media-controller");this.streamTextContainer=d("ACMedia-stream-control");this.handleStreaming();this.speedDisplayAlert=document.createElement("div");this.captionsDisplayAlert=document.createElement("div");ACUtils.addClassName(this.captionsDisplayAlert,"ACMediaCaptionsDisplay");this.alertDisplayContainer=d("ACMedia-alert-display-container");this.trackText=d("ACMedia-track-text");this.trackTextSpan=d("ACMedia-track-text-span");this.volumeThumb=d("ACMedia-volume-handle");this.volumeTrack=d("ACMedia-volume-track");this.volumeProgress=d("ACMedia-control-volume-progress");this.trackContainer=d("ACMedia-track-container");this.playhead=d("ACMedia-control-playhead");this.track=d("ACMedia-control-track");this.trackProgress=d("ACMedia-control-track-progress");this.controlLoadedProgress=d("ACMedia-control-loaded-progress");this.mediaTimeDisplay=d("ACMedia-control-time-display");this.minutesPlayed=d("ACMedia-min-played");this.secondsPlayed=d("ACMedia-sec-played");this.mediaDurationDisplay=d("ACMedia-control-duration-display");this.minutesRemaining=d("ACMedia-min-remain");this.secondsRemaining=d("ACMedia-sec-remain");this.settingsMenuList=document.createElement("div");this.settingsMenu.appendChild(this.settingsMenuList);this.sizesMenu=document.createElement("ul");this.sizesMenu.menuName="sizes";this.sizesMenu.menuTitle=this.sizesControl.menuTitle=ac_media_language.sizescontrol||"Video Size";this.downloadMenu=document.createElement("ul");this.downloadMenu.menuName="download";this.downloadMenu.menuTitle=this.downloadControl.menuTitle=ac_media_language.downloadcontrol||"Download Video";this.shareMenu=document.createElement("ul");this.shareMenu.menuName="share";this.shareMenu.menuTitle=this.shareControl.menuTitle=ac_media_language.sharecontrol||"Share Video";f(this.alertDisplayContainer);f(this.trackText);f(this.mediaTimeDisplay);f(this.mediaDurationDisplay);switch(this.controllerType){case"slim":case"short-slim":var h=+(this.container.offsetWidth-235);if(ACUtils.Detector.isWin()){h=h-10}this.trackContainer.style.width=h+"px";break;default:break}b(this.volumeThumb);if(!this.scrubber&&this.element!==null){b(this.playhead)}initializedCP=true},handleStreaming:function(){if(isStreaming===true){if(isLiveStreaming===true){if(isHTML5===false){ACUtils.addClassName(this.mediaController,"ACMediaLiveStreamingQT")}else{ACUtils.addClassName(this.mediaController,"ACMediaLiveStreaming")}this.streamTextContainer.innerHTML=ac_media_language.livestreamdisplay||"Live Broadcast"}else{if(isHTML5===false){ACUtils.removeClassName(this.mediaController,"ACMediaLiveStreamingQT");ACUtils.addClassName(this.mediaController,"ACMediaStreamingQT")}else{ACUtils.removeClassName(this.mediaController,"ACMediaLiveStreaming");ACUtils.addClassName(this.mediaController,"ACMediaStreamingVideo")}}}},SPECIAL_KEYS:["ESC","COMMAND","CONTROL","OPTION","ALT","SHIFT"],KEYS:{KEY_TAB:9,KEY_ESCAPE:27,KEY_SPACE:32,KEY_PAGE_UP:33,KEY_PAGE_DOWN:34,KEY_END:35,KEY_HOME:36,KEY_LEFT_ARROW:37,KEY_UP_ARROW:38,KEY_RIGHT_ARROW:39,KEY_DOWN_ARROW:40,KEY_0:48,KEY_1:49,KEY_2:50,KEY_C:67,KEY_F:70,KEY_R:82,KEY_T:84},_keyHandlerTimeout:null,keyDownHandler:function(b){var c=window.event?window.event:b;var h=(c.keyCode)?c.keyCode:((c.which)?c.which:0);window.clearTimeout(this._keyHandlerTimeout);var g="";switch(true){case ((h==this.KEYS.KEY_0)&&c.ctrlKey):ACUtils.stopEvent(b);this.selectSizeFromMenu(this.sizesSmallControl);break;case ((h==this.KEYS.KEY_1)&&c.ctrlKey):ACUtils.stopEvent(b);this.selectSizeFromMenu(this.sizesMediumControl);break;case ((h==this.KEYS.KEY_2)&&c.ctrlKey):ACUtils.stopEvent(b);this.selectSizeFromMenu(this.sizesLargeControl);break;case ((h==this.KEYS.KEY_3)&&c.ctrlKey):ACUtils.stopEvent(b);this.selectSizeFromMenu(this.sizesHDControl);break;case ((h==this.KEYS.KEY_F)&&(c.ctrlKey||c.metaKey)):ACUtils.stopEvent(b);this.toggleFullscreen();break;case (!Media.Detection.Firefox()&&((h==this.KEYS.KEY_T)&&c.metaKey&&c.altKey)):case ((h==this.KEYS.KEY_C)&&c.ctrlKey&&c.shiftKey):ACUtils.stopEvent(b);this.toggleCaptions();this._keyHandlerTimeout=window.setTimeout(this.hide.bindAC(this),2500);break;case ((h==this.KEYS.KEY_RIGHT_ARROW)&&c.metaKey):ACUtils.stopEvent(b);this.show();this.fastForward();this._keyHandlerTimeout=window.setTimeout(this.hide.bindAC(this),2500);break;case ((h==this.KEYS.KEY_LEFT_ARROW)&&c.metaKey):ACUtils.stopEvent(b);this.show();this.fastBackward();this._keyHandlerTimeout=window.setTimeout(this.hide.bindAC(this),2500);break;case ((h==this.KEYS.KEY_RIGHT_ARROW)&&c.altKey):ACUtils.stopEvent(b);this.show();this.pause();var f=+(1);this.scrubber.setValue(f);if(!this._seeking){this._seeking=true;this._send("beginSeeking");this.resetRate()}this._send("setTime",+(f*this._send("duration")-0.1));window.setTimeout(function(){this.trackProgress.style.width=+((this.scrubber.maximum*f)-4)+"px";this.playhead.style.left=+((this.scrubber.maximum*f)-4)+"px"}.bindAC(this),50);this._keyHandlerTimeout=window.setTimeout(this.hide.bindAC(this),2500);break;case ((h==this.KEYS.KEY_LEFT_ARROW)&&c.altKey):ACUtils.stopEvent(b);this.show();this.pause();var f=+(0);this.scrubber.setValue(f);if(!this._seeking){this._seeking=true;this._send("beginSeeking");this.resetRate()}this._send("setTime",+(f*this._send("duration")+0.1));window.setTimeout(function(){this.trackProgress.style.width=f+"px";this.playhead.style.left=f+"px"}.bindAC(this),50);this._keyHandlerTimeout=window.setTimeout(this.hide.bindAC(this),2500);break;case ((h==this.KEYS.KEY_RIGHT_ARROW)):break;case ((h==this.KEYS.KEY_LEFT_ARROW)):break;case (h==this.KEYS.KEY_SPACE):ACUtils.stopEvent(b);this.show();this.togglePlaying();this._keyHandlerTimeout=window.setTimeout(this.hide.bindAC(this),2500);break;case ((h==this.KEYS.KEY_UP_ARROW)&&c.altKey):ACUtils.stopEvent(b);this.show();this.fullVolume();this.volumeControlSetting=1;this._keyHandlerTimeout=window.setTimeout(this.hide.bindAC(this),2500);break;case ((h==this.KEYS.KEY_DOWN_ARROW)&&c.altKey):ACUtils.stopEvent(b);this.show();this.muteVolume();this.volumeControlSetting=0;this._keyHandlerTimeout=window.setTimeout(this.hide.bindAC(this),2500);break;case (h==this.KEYS.KEY_UP_ARROW):ACUtils.stopEvent(b);this.show();var d=this._send("volume"),a=+(d+0.1),e=(a<1)?a:1;this._send("setVolume",e);this.volumeScrubber.setValue(e);this.volumeControlSetting=e;this._keyHandlerTimeout=window.setTimeout(this.hide.bindAC(this),2500);break;case (h==this.KEYS.KEY_DOWN_ARROW):ACUtils.stopEvent(b);this.show();var d=this._send("volume"),a=+(d-0.1),e=(a>0)?a:0;this._send("setVolume",e);this.volumeScrubber.setValue(e);this.volumeControlSetting=e;this._keyHandlerTimeout=window.setTimeout(this.hide.bindAC(this),2500);break;case ((h==this.KEYS.KEY_R)&&c.metaKey):ACUtils.stopEvent(b);window.location.reload(false);break;default:return true;break}},createTrackScrubber:function(){if(this.track){var a=this.track.offsetWidth;if(!this.scrubber&&this.element!==null){this.scrubber=new Control.Slider(this.playhead,this.track,{alignX:-5,increment:1,sliderValue:0,minimum:0,maximum:a,onSlide:function(b){if(!this._seeking){this._seeking=true;this._send("beginSeeking");this.resetRate()}this._send("setTime",b*this._send("duration"));var c=this._send("time");if(!(parseInt(c)==parseInt(b*this._send("duration")))){this._send("setTime",b*this._send("duration"))}this.trackProgress.style.width=this.playhead.style.left}.bindAC(this),onChange:function(b){if(this._seeking){this._seeking=false;this._send("endSeeking")}this.trackProgress.style.width=this.playhead.style.left}.bindAC(this)});this.scrubber.initialize()}else{this.scrubber.maximum=a;this.scrubber.track=this.track;this.scrubber.initialize()}}},createVolumeScrubber:function(){if(!this.volumeScrubber&&this.element!==null){var a=this.volumeTrack.offsetWidth;this.volumeScrubber=new Control.Slider(this.volumeThumb,this.volumeTrack,{alignX:-3,increment:1,sliderValue:0,minimum:0,maximum:a,onSlide:function(b){this._volSeeking=true;this._send("setVolume",b);this.volumeProgress.style.width=this.volumeThumb.style.left}.bindAC(this),onChange:function(b){this._volSeeking=false;this.volumeProgress.style.width=this.volumeThumb.style.left}.bindAC(this)});this.volumeScrubber.initialize();if(typeof this.volumeControlSetting=="undefined"){this.volumeControlSetting=1}this.volumeScrubber.setValue(this.volumeControlSetting)}},getRoundRectForArcAndOpacity:function(c,b){if(Media.Detection.CSSBorderRadius()!==false){return false}if(typeof this.hasVMLNameSpaceDefined=="undefined"||this.hasVMLNameSpaceDefined==false){this.setVML()}var a=document.createElement("v:roundrect"),d=document.createElement("v:fill");a.setAttribute("arcsize",c);a.setAttribute("fill","true");a.setAttribute("fillcolor","#000000");a.setAttribute("stroked","false");a.className="border-radius-box";d.setAttribute("type","background");d.setAttribute("opacity",b);d.className="border-radius-fill";if(typeof a=="object"){a.appendChild(d);return a}else{return false}},setVML:function(){if(!document.namespaces){return}var c,a,d,b=document.getElementsByTagName("head")[0];this.hasVMLNameSpaceDefined=false;for(c=0,a=document.namespaces.length;c<a;c++){if(document.namespaces(c).name=="v"){this.hasVMLNameSpaceDefined=true;break}}if(!this.hasVMLNameSpaceDefined){document.namespaces.add("v","urn:schemas-microsoft-com:vml")}},setCaptionsAvailable:function(){this._send("setCaptionsAvailable",this.captionsUrl)},_setControlsAvailableForMenu:function(c,a){c.menuListHeight=0;for(var b=0,d;d=a[b];b++){this._enableControl(d);c.menuListHeight+=25}switch(c){case this.sizesControl:this.enableSizesControl();break;case this.downloadControl:this.enableDownloadControl();break;case this.shareControl:this.enableShareControl();break;default:break}},setSizesAvailable:function(){this._setControlsAvailableForMenu(this.sizesControl,this._sizesMenuControls)},setDownloadAvailable:function(){this._setControlsAvailableForMenu(this.downloadControl,this._downloadMenuControls)},setShareAvailable:function(){this._setControlsAvailableForMenu(this.shareControl,this._shareMenuControls)},setFullscreenAvailable:function(){this._send("setFullscreenAvailable",this.fullscreenUrl)},enableBasicControls:function(){if(this.playControl){ACUtils.hideElement(this.playControl);ACUtils.hideVisibility(this.playControl)}if(this.pauseControl){ACUtils.showElement(this.pauseControl);ACUtils.showVisibility(this.pauseControl)}this._enableControl(this.volumeMuteControl);this._enableControl(this.volumeFullControl);this._enableControl(this.volumeThumb);this._enableControl(this.playControl);this._enableControl(this.pauseControl);this._enableControl(this.playhead);this._enableControl(this.fastBackwardControl);this._enableControl(this.fastForwardControl);this.createTrackScrubber();this._enableControl(this.mediaTimeDisplay);this._enableControl(this.mediaDurationDisplay)},enableCaptionsControl:function(){if(this.captionsControl&&!this.captionsControl.isEnabled&&this.controllerType!=="short-slim"&&!this.captionsControl.isEnabled&&!(typeof this.options!="undefined"&&this.options.captionsControlOff===true)){ACUtils.addClassName(this.captionsControl,this.captionsControl.baseClassName+"-enabled");this.captionsControl.isEnabled=true;this.setSettingsControlsClass()}},_enableSettingsControlWithMenu:function(a,b){if(!a.isEnabled&&this.controllerType!=="short-slim"&&!(typeof this.options!="undefined"&&this.options[a.name+"Off"]===true)){this.settingsMenuList.appendChild(b);a.menuListWidth=(ACUtils.Detector.isIEStrict())?165:this.settingsMenuList.offsetWidth;this.settingsMenuList.removeChild(b);ACUtils.addClassName(a,a.baseClassName+"-enabled");a.isEnabled=true;this.setSettingsControlsClass()}},enableSizesControl:function(){this.sizesControl.name="sizesControl";this._enableSettingsControlWithMenu(this.sizesControl,this.sizesMenu)},enableDownloadControl:function(){this.downloadControl.name="downloadControl";this._enableSettingsControlWithMenu(this.downloadControl,this.downloadMenu)},enableShareControl:function(){this.shareControl.name="shareControl";this._enableSettingsControlWithMenu(this.shareControl,this.shareMenu)},enableFullscreenControl:function(){if(!this.fullscreenControl.isEnabled&&this.controllerType!=="short-slim"){ACUtils.addClassName(this.fullscreenControl,this.fullscreenControl.baseClassName+"-enabled");ACUtils.removeClassName(this.fullscreenControl,this.fullscreenControl.baseClassName+"-disabled");this.fullscreenControl.isEnabled=true;this.setSettingsControlsClass()}},disableFullscreenControlForCurrentSize:function(){if(this.fullscreenControl.isEnabled&&this.controllerType!=="short-slim"){ACUtils.addClassName(this.fullscreenControl,this.fullscreenControl.baseClassName+"-disabled");ACUtils.removeClassName(this.fullscreenControl,this.fullscreenControl.baseClassName+"-enabled");this.fullscreenControl.isEnabled=false}},togglePlaying:function(){var a=this._send("playing");if(a){this.pause()}else{this.resetRate();this.play()}},toggleCaptions:function(){if(!ACUtils.hasClassName(this.captionsControl,this.captionsControl.baseClassName+"-selected")&&!this.resettingController&&this.captionsControl.isEnabled===true){this._selectControl(this.captionsControl);if(this._send("movieType")==="Video"&&this._send("enableCaptionsTextDisplay")===false){this._enableControl(this.trackText)}this._send("enableCaptions");var c=ac_media_language.captionsturnedon||"Closed Captions On";while(typeof this.alertDisplayContainer.firstChild!="undefined"&&this.alertDisplayContainer.firstChild!=null){this.alertDisplayContainer.removeChild(this.alertDisplayContainer.firstChild)}if(Media.Detection.CSSBorderRadius()===false){var a=this.getRoundRectForArcAndOpacity(0.19,0.5)}if(typeof a!="undefined"&&a!==false){var b=document.createElement("span");this.captionsDisplayAlert.innerHTML="";b.appendChild(document.createTextNode(c));b.setAttribute("role","status");a.appendChild(b);this.captionsDisplayAlert.appendChild(a)}else{this.captionsDisplayAlert.innerHTML=c}this.captionsControl.setAttribute("aria-checked","true");this.alertDisplayContainer.appendChild(this.captionsDisplayAlert);ACUtils.addClassName(this.alertDisplayContainer,this.alertDisplayContainer.baseClassName+"-active");this.captionsControlSetting=true}else{if(this.captionsControl.isEnabled===true){this._unselectControl(this.captionsControl);this._disableControl(this.trackText);this.captionsControlSetting=false;if(this.resettingController===true){this._send("resetCaptions")}else{this._send("disableCaptions");var c=ac_media_language.captionsturnedoff||"Closed Captions Off";while(typeof this.alertDisplayContainer.firstChild!="undefined"&&this.alertDisplayContainer.firstChild!=null){this.alertDisplayContainer.removeChild(this.alertDisplayContainer.firstChild)}var a=this.getRoundRectForArcAndOpacity(0.19,0.5);if(a!==false){var b=document.createElement("span");this.captionsDisplayAlert.innerHTML="";b.appendChild(document.createTextNode(c));b.setAttribute("role","status");a.appendChild(b);this.captionsDisplayAlert.appendChild(a)}else{this.captionsDisplayAlert.innerHTML=c}this.captionsControl.setAttribute("aria-checked","false");this.alertDisplayContainer.appendChild(this.captionsDisplayAlert);ACUtils.addClassName(this.alertDisplayContainer,this.alertDisplayContainer.baseClassName+"-active")}}}},_toggleMenuForControlAndMenuControls:function(e,d,c){if(!ACUtils.hasClassName(d,d.baseClassName+"-selected")&&!this.resettingMenus&&!this.resettingController){this._selectControl(d);this._selectSettingsMenuForMenu(e);this.positionSettingsMenuForControl(d)}else{this._unselectControl(d);this._unselectMenu();if(this.resettingController===true){for(var b=0,a;a=c[b];b++){this._unselectControl(a)}}}},toggleSizesMenu:function(){if(this.sizesControl&&this.sizesControl.isEnabled===true&&this.sizesMenu){this._toggleMenuForControlAndMenuControls(this.sizesMenu,this.sizesControl,this._sizesMenuControls)}},toggleDownloadMenu:function(){if(this.downloadControl&&this.downloadControl.isEnabled===true&&this.downloadMenu){this._toggleMenuForControlAndMenuControls(this.downloadMenu,this.downloadControl,this._downloadMenuControls)}},toggleShareMenu:function(){if(this.shareControl&&this.shareControl.isEnabled===true&&this.shareMenu){this._toggleMenuForControlAndMenuControls(this.shareMenu,this.shareControl,this._shareMenuControls)}},toggleFullscreen:function(){if(!this.resettingController&&this.fullscreenControl.isEnabled===true){this._send("enableFullscreen")}},volumeControlSetting:1,fullscreenControlSetting:false,sizesControlSetting:false,setSettingsControls:function(){if(typeof this.fullscreenControlSetting!="undefined"&&this.fullscreenControlSetting!=false){this._send("enableFullscreen")}if(typeof this.sizesControlSetting!="undefined"&&this.sizesControlSetting!=false){this.selectSizeFromMenu(this.sizesControlSetting)}if(typeof this.volumeControlSetting!="undefined"&&this.volumeControlSetting!=1){this.volumeScrubber.setValue(this.volumeControlSetting);this._send("setVolume",this.volumeControlSetting)}},mouseoverSettingsControl:function(a){this.settingsMenuTitle.innerHTML=ac_media_language.sizescontrol||a.menuTitle;if(typeof this.currentMenu!="undefined"&&this.currentMenu!=false){if(this.settingsMenuList.childNodes.length>0){this.settingsMenuList.removeChild(this.currentMenu)}this.currentMenu=false}this.positionSettingsMenuForControl(a);ACUtils.addClassName(this.settingsMenu,this.settingsMenu.baseClassName+"-hovered");ACUtils.removeClassName(this.settingsMenu,this.settingsMenu.baseClassName);this._unselectControl(this.sizesControl);this._unselectControl(this.downloadControl);this._unselectControl(this.shareControl)},mouseoutSettingsControl:function(a,g){var a=a||window.event,d=ACUtils.cumulativeOffset(this.settingsMenu).top,f=ACUtils.cumulativeOffset(this.settingsMenu).left,e=this.settingsMenu.offsetWidth,h=this.settingsMenu.offsetHeight,c,b;if(a){c=a.pageX||(a.clientX+(document.documentElement.scrollLeft)?document.documentElement.scrollLeft:document.body.scrollLeft);b=a.pageY||(a.clientY+(document.documentElement.scrollTop)?document.documentElement.scrollTop:document.body.scrollTop);if(!(c>f&&c<(f+e)&&b>d&&b<(d+h+14))){ACUtils.addClassName(this.settingsMenu,this.settingsMenu.baseClassName);ACUtils.removeClassName(this.settingsMenu,this.settingsMenu.baseClassName+"-hovered")}}},positionSettingsMenuForControl:function(k){this.positionCarrotForControl(k);if(typeof this.settingsMenuRoundRect!="undefined"&&this.settingsMenuRoundRect!==false){var r=this.settingsMenuList.getElementsByTagName("li"),t=k.menuListWidth,q=parseInt(((r.length>0)?22:0)+this.settingsMenuTitle.offsetHeight+(r.length*25)),j=Math.min((7/Math.min(q,t)),1).toFixed(2),p=this.settingsMenu.childNodes,u=this.settingsMenu.node;try{while(typeof this.settingsMenuRoundRect!="undefined"&&this.settingsMenuRoundRect.firstChild){this.settingsMenuRoundRect.removeChild(this.settingsMenuRoundRect.firstChild)}}catch(x){}this.settingsMenu.removeChild(this.settingsMenuRoundRect);this.settingsMenuRoundRect=this.getRoundRectForArcAndOpacity(j,0.9);this.settingsMenu.insertBefore(this.settingsMenuRoundRect,this.settingsMenu.firstChild);if(t&&q){this.settingsMenuList.style.display="block";this.settingsMenu.style.width=t+"px";this.settingsMenu.style.height=q+"px"}else{this.settingsMenu.style.display="none"}}else{if(typeof k.menuListWidth!="undefined"){this.settingsMenuList.style.width=k.menuListWidth+"px"}}var w=parseInt(this.settingsMenuCarrot.style.top),h=parseInt(this.settingsMenuCarrot.style.left),s=this.settingsMenu.offsetHeight,a=this.settingsMenu.offsetWidth,b=ACUtils.cumulativeOffset(this.mediaController).left,d=this.mediaController.offsetWidth,g=this.settingsMenuCarrot.offsetHeight,m=this.settingsMenuCarrot.offsetWidth,C=w-s+g,o=(b+d)-a,c=ACUtils.cumulativeOffset(k).left,v=c+(k.offsetWidth/2),f,B,l,A,z;switch(this.controllerType){case"slim":case"short-slim":var y=(b+d+20)-a;this.settingsMenu.style.top=(w+g)+"px";this.settingsMenu.style.left=((y<h)?y:h)+"px";break;default:this.settingsMenu.style.top=C+"px";this.settingsMenu.style.left=((o-7<h)?(o-7):h)+"px";break}f=parseInt(this.settingsMenu.style.left);l=s;A=parseInt(this.settingsMenuCarrot.style.left)-f;switch(this.controllerType){case"slim":case"short-slim":this.settingsMenuCarrot.style.top=(0-(g+6))+"px";break;default:this.settingsMenuCarrot.style.top=((ACUtils.Detector.isIEStrict())?((s-g)+8):(s-g))+"px";break}this.settingsMenuCarrot.style.left=(A-(m/2))+"px";this.settingsMenu.style.overflow="visible"},positionCarrotForControl:function(d){var b=ACUtils.cumulativeOffset(this.mediaController).top,c=this.mediaController.offsetWidth,f=this.mediaController.offsetHeight,j=ACUtils.cumulativeOffset(d).left,k=d.offsetWidth,g=this.settingsMenuCarrot.offsetWidth,e=this.settingsMenuCarrot.offsetHeight,a=b-e,h=j+((k-g)/2);this.settingsMenu.style.overflow="hidden";switch(this.controllerType){case"slim":case"short-slim":ACUtils.addClassName(this.settingsMenuCarrot,"slim-menu-carrot");this.settingsMenuCarrot.style.top=(b+f)+"px";break;default:this.settingsMenuCarrot.style.top=a+"px";break}this.settingsMenuCarrot.style.left=h+"px"},_selectSettingsMenuForMenu:function(c){var a=c.menuTitle,b=c.menuName;this.settingsMenuTitle.innerHTML=a;if(typeof this.currentMenu!="undefined"&&this.currentMenu!=false){if(this.settingsMenuList.childNodes>0){this.settingsMenuList.removeChild(this.currentMenu)}}this.settingsMenuList.appendChild(c);this.currentMenu=c},_unselectMenu:function(){ACUtils.addClassName(this.settingsMenu,this.settingsMenu.baseClassName);ACUtils.removeClassName(this.settingsMenu,this.settingsMenu.baseClassName+"-selected");ACUtils.removeClassName(this.settingsMenu,this.settingsMenu.baseClassName+"-hovered")},_selectControl:function(a){ACUtils.addClassName(a,a.baseClassName+"-selected");if(a===this.sizesControl||a===this.downloadControl||a===this.shareControl){ACUtils.addClassName(this.settingsMenu,this.settingsMenu.baseClassName+"-selected");ACUtils.removeClassName(this.settingsMenu,this.settingsMenu.baseClassName);ACUtils.removeClassName(this.settingsMenu,this.settingsMenu.baseClassName+"-hovered");this._currentSettingsControl=a}},_unselectControl:function(a){if(a){ACUtils.removeClassName(a,a.baseClassName+"-selected")}},_enableControl:function(a){if(a){ACUtils.addClassName(a,a.baseClassName+"-enabled")}},_disableControl:function(a){if(a){ACUtils.removeClassName(a,a.baseClassName+"-enabled")}},reset:function(){if(typeof this.scrubber!="undefined"){this.playhead.style.left="0px";this.trackProgress.style.width=this.playhead.style.left;this.show();if(this.playControl){ACUtils.showElement(this.playControl);ACUtils.showVisibility(this.playControl)}if(this.pauseControl){ACUtils.hideElement(this.pauseControl);ACUtils.hideVisibility(this.pauseControl)}this._disableControl(this.volumeMuteControl);this._disableControl(this.volumeFullControl);this._disableControl(this.volumeThumb);this._disableControl(this.playControl);this._disableControl(this.pauseControl);this._disableControl(this.playhead);this._disableControl(this.fastBackwardControl);this._disableControl(this.fastForwardControl);this.removeAdvancedPlayDisplay()}},resetSettingsControls:function(){this.resetSettingsMenus()},resetSettingsMenus:function(){this.resettingMenus=true;if(this.alertDisplayContainer){ACUtils.removeClassName(this.alertDisplayContainer,this.alertDisplayContainer.baseClassName+"-active")}if(this.settingsMenu){ACUtils.removeClassName(this.settingsMenu,this.settingsMenu.baseClassName+"-hovered");ACUtils.removeClassName(this.settingsMenu,this.settingsMenu.baseClassName+"-selected")}this.toggleSizesMenu();this.toggleDownloadMenu();this.toggleShareMenu();this.resettingMenus=false},resetRate:function(){if(this._send("rate")!==1){this._send("setRate",1)}this.removeAdvancedPlayDisplay()},removeAdvancedPlayDisplay:function(){this.removeAlertDisplay();ACUtils.removeClassName(this.fastBackwardControl,"fastBackward-active");ACUtils.removeClassName(this.fastForwardControl,"fastForward-active")},removeAlertDisplay:function(){if(this.fastBackwardControl){this.setRateDisplay(this.fastBackwardControl,null)}if(this.fastForwardControl){this.setRateDisplay(this.fastForwardControl,null)}if(this.alertDisplayContainer){ACUtils.removeClassName(this.alertDisplayContainer,this.alertDisplayContainer.baseClassName+"-active")}},setSettingsControlsClass:function(){var b=this.settingsControls.baseClassName,a=0;if(typeof this.captionsControl.isEnabled!="undefined"&&this.captionsControl.isEnabled===true){b+="-captions";a++}if(typeof this.sizesControl.isEnabled!="undefined"&&this.sizesControl.isEnabled===true){b+="-sizes";a++}if(typeof this.downloadControl.isEnabled!="undefined"&&this.downloadControl.isEnabled===true){b+="-download";a++}if(typeof this.shareControl.isEnabled!="undefined"&&this.shareControl.isEnabled===true){b+="-share";a++}if(typeof this.fullscreenControl.isEnabled!="undefined"&&this.fullscreenControl.isEnabled===true){b+="-fullscreen";a++}this.settingsControls.className="";ACUtils.addClassName(this.settingsControls,this.settingsControls.baseClassName);ACUtils.addClassName(this.settingsControls,b);this.setTrackContainerWidth()},setTrackContainerWidth:function(){if(this.controllerType==="regular"||!this.settingsControls||!this.trackContainer){return}var e=(this.settingsControls.offsetWidth>0)?parseInt(this.settingsControls.offsetWidth+10):0,b=this.mediaController.offsetLeft,d=this.mediaController.offsetWidth,c=parseInt(b+d);newTrackWidth=parseInt(((c-this.trackContainer.offsetLeft)<=600)?(c-this.trackContainer.offsetLeft):600),newTrackContainerWidth=parseInt(newTrackWidth-(e+10));if(this.controllerType==="slim"){var a=parseInt(this.trackContainer.offsetLeft+newTrackContainerWidth+20);if(c<a){newTrackContainerWidth=parseInt(newTrackContainerWidth-(a-c))}}this.trackContainer.style.width=newTrackContainerWidth+"px";if(newTrackContainerWidth<=200){this.track.parentNode.style.width=35+"px";this.scrubberMax=35}else{if(newTrackContainerWidth>200&&newTrackContainerWidth<=400){this.track.parentNode.style.width=260+"px";this.scrubberMax=260}else{this.track.parentNode.style.width=460+"px";this.scrubberMax=460}}this.volumeScrubber=null;this.createVolumeScrubber();this.createTrackScrubber()},_send:function(b,a){if(this.delegate&&b in this.delegate){a=[].concat(a);return this.delegate[b].apply(this.delegate,a)}},show:function(){Media.ControlsWidget.show(this)},hide:function(){if(this._seeking||this._volSeeking){return}Media.ControlsWidget.hide(this);this.removeAlertDisplay()},play:function(){this.resetRate();if(this._send("playing")===false){if(ACUtils.Detector.shouldPlayH264VideoNatively()){this._send("forcePlay")}else{this._send("play")}}if(this.playControl){ACUtils.hideVisibility(this.playControl)}if(this.pauseControl){ACUtils.showElement(this.pauseControl);ACUtils.showVisibility(this.pauseControl);if(window.event&&window.event.keyCode==0&&window.event.clientX==0&&window.event.clientY==0){this.pauseControl.focus()}}},pause:function(){this.resetRate();if(this._send("playing")===true){if(ACUtils.Detector.shouldPlayH264VideoNatively()){this._send("forcePause")}else{this._send("pause")}}if(this.pauseControl){ACUtils.hideVisibility(this.pauseControl)}if(this.playControl){ACUtils.showElement(this.playControl);ACUtils.showVisibility(this.playControl);if(window.event&&window.event.keyCode==0&&window.event.clientX==0&&window.event.clientY==0){this.playControl.focus()}}},fastBackward:function(){this.trackFastButtonUsage("rw");if(isStreaming===true&&isLiveStreaming===false){this._send("seekToTime","fb");return}var c=this._send("rate"),b="";if(this._send("playing")===false){this._send("play")}else{if(this.pauseControl){ACUtils.hideElement(this.pauseControl);ACUtils.hideVisibility(this.pauseControl)}if(this.playControl){ACUtils.showElement(this.playControl);ACUtils.showVisibility(this.playControl)}}switch(c){case -2:this._send("setRate",-4);b="4x";this.setRateDisplay(this.speedDisplayAlert,"four-times-speed-display");this.setRateDisplay(this.fastBackwardControl,"four-times-fast-backward");break;case -4:this._send("setRate",-8);b="8x";this.setRateDisplay(this.speedDisplayAlert,"eight-times-speed-display");this.setRateDisplay(this.fastBackwardControl,"eight-times-fast-backward");break;default:this._send("setRate",-2);b="2x";this.setRateDisplay(this.speedDisplayAlert,"two-times-speed-display");this.setRateDisplay(this.fastBackwardControl,"two-times-fast-backward");break}this.setRateDisplay(this.fastForwardControl,null);while(typeof this.alertDisplayContainer.firstChild!="undefined"&&this.alertDisplayContainer.firstChild!=null){this.alertDisplayContainer.removeChild(this.alertDisplayContainer.firstChild)}this.speedDisplayAlert.innerHTML="";var a=this.getRoundRectForArcAndOpacity(0.19,0.5);if(a!==false){var d=document.createElement("span");d.appendChild(document.createTextNode(b));a.appendChild(d);this.speedDisplayAlert.appendChild(a)}else{this.speedDisplayAlert.appendChild(document.createTextNode(b))}this.alertDisplayContainer.appendChild(this.speedDisplayAlert);ACUtils.addClassName(this.alertDisplayContainer,this.alertDisplayContainer.baseClassName+"-active");ACUtils.removeClassName(this.fastForwardControl,"fastForward-active");ACUtils.addClassName(this.fastBackwardControl,"fastBackward-active")},fastForward:function(){this.trackFastButtonUsage("ff");var c=this._send("rate"),b="";if(this._send("playing")===false){this._send("play")}else{if(this.pauseControl){ACUtils.hideElement(this.pauseControl);ACUtils.hideVisibility(this.pauseControl)}if(this.playControl){ACUtils.showElement(this.playControl);ACUtils.showVisibility(this.playControl)}}switch(c){case 2:this._send("setRate",4);b="4x";this.setRateDisplay(this.speedDisplayAlert,"four-times-speed-display");this.setRateDisplay(this.fastForwardControl,"four-times-fast-forward");break;case 4:this._send("setRate",8);b="8x";this.setRateDisplay(this.speedDisplayAlert,"eight-times-speed-display");this.setRateDisplay(this.fastForwardControl,"eight-times-fast-forward");break;default:this._send("setRate",2);b="2x";this.setRateDisplay(this.speedDisplayAlert,"two-times-speed-display");this.setRateDisplay(this.fastForwardControl,"two-times-fast-forward");break}this.setRateDisplay(this.fastBackwardControl,null);while(typeof this.alertDisplayContainer.firstChild!="undefined"&&this.alertDisplayContainer.firstChild!=null){this.alertDisplayContainer.removeChild(this.alertDisplayContainer.firstChild)}this.speedDisplayAlert.innerHTML="";var a=this.getRoundRectForArcAndOpacity(0.19,0.5);if(a!==false){var d=document.createElement("span");d.appendChild(document.createTextNode(b));a.appendChild(d);this.speedDisplayAlert.appendChild(a)}else{this.speedDisplayAlert.appendChild(document.createTextNode(b))}this.alertDisplayContainer.appendChild(this.speedDisplayAlert);ACUtils.addClassName(this.alertDisplayContainer,this.alertDisplayContainer.baseClassName+"-active");ACUtils.removeClassName(this.fastBackwardControl,"fastBackward-active");ACUtils.addClassName(this.fastForwardControl,"fastForward-active")},trackFastButtonUsage:function(a){var c=(typeof(tracker)!="undefined"&&tracker._id)?tracker._id:"no title";if(AC&&typeof(AC.Tracking)!="undefined"){var b="v@"+AC.Tracking.pageName()+" - "+c+" - "+a;AC.Tracking.trackClick({prop3:b},this,"o",b)}},setRateDisplay:function(b,a){if(!b){return}switch(true){case (typeof b.currentRateDisplay!="undefined"&&b.currentRateDisplay!==a):ACUtils.removeClassName(b,b.currentRateDisplay);break;default:break}switch(a){case null:break;default:ACUtils.addClassName(b,a);break}b.currentRateDisplay=a},muteVolume:function(){this._send("setMuted",true);this.volumeScrubber.setValue(0)},fullVolume:function(){this._send("setMuted",false);this._send("setVolume",1);this.volumeScrubber.setValue(1)},updatePercentLoaded:function(a){if(typeof this.controlLoadedProgress!=="undefined"&&a){this.controlLoadedProgress.style.width=a*100+"%"}if(a===1){ACUtils.addClassName(this.trackEndCap,"track-right-cap-loaded");ACUtils.removeClassName(this.trackEndCap,"track-right-cap")}},updateTime:function(b){var d=this._send("duration"),a=(d-b);if((b<1||a<1)&&this._send("rate")!==1){this.resetRate();this._send("pause");ACUtils.removeClassName(this.fastBackwardControl,"fastBackward-active");ACUtils.removeClassName(this.fastForwardControl,"fastForward-active")}try{if(this.scrubber){this.scrubber.setValue((b/d)||0)}}catch(c){}this.updateElapsedTime(b);this.updateRemainingTime(a)},_setTimeForReadout:function(d,b,e){if(b&&e){var a=parseInt(d/60,10),c=parseInt(d%60,10);if(a<10){a="0"+a}if(c<10){c="0"+c}b.innerHTML=a;e.innerHTML=c}},updateElapsedTime:function(b){var a=this.minutesPlayed,c=this.secondsPlayed;this._setTimeForReadout(b,a,c)},updateRemainingTime:function(b){var a=this.minutesRemaining,c=this.secondsRemaining;this._setTimeForReadout(b,a,c)}};ACUtilsAjax.checkURL=function(a,c){var b=ACUtilsAjax.getTransport();b.onreadystatechange=function(){if(this.readyState===4&&this.status===200){c()}};b.open("HEAD",a,true);b.send(null)};ACUtilsAjax.AjaxRequest.prototype._overrideMimeType=null;ACUtilsAjax.AjaxRequest.prototype.overrideMimeType=function(a){this._overrideMimeType=a;if(this.transport.overrideMimeType){this.transport.overrideMimeType(a)}};ACUtilsAjax.AjaxResponse.prototype.responseXMLValue=function(){if(ACUtils.Detector.isIEStrict()){var a=this.transport.responseXML.documentElement;if(!a&&this.request._doesOverrideXMLMimeType()){this.transport.responseXML.loadXML(this.transport.responseText)}}return this.transport.responseXML};Media.ControlsWidget.SharePlugin=function(){};Media.ControlsWidget.SharePlugin.prototype.name=function(){return this._name};Media.ControlsWidget.SharePlugin.prototype.actionName=function(){return"share"};Media.ControlsWidget.SharePlugin.prototype.pluginType=function(){return"Share"};
